/*
 * $Id: ChangeLog.027 9283 2011-02-14 21:32:39Z andijahja $
 */

/* Use this format for the entry headers:
   YYYY-MM-DD HH:MM UTC[-|+]hhmm Your Full Name <your_email@address>
   For example:
   2002-12-01 23:12 UTC+0100 Foo Bar <foo.bar@foobar.org>
*/

2008-02-09 11:50 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
   * include/hbdefs.h
     * Minor correction to ensue intermediate macro tokens are valid
     * Minor refinment

2008-02-08 22:17 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * source/compiler/harbour.slx
  * source/compiler/harbour.sly
    + Added support for RUNTIME NAMESPACE ... END
    + Added support for EXTERNAL Namespace[.more].Fun
    + Added support for DYNAMIC Namespace[.more].Fun
  * include/hbcomp.h
  * include/hbexpra.c
  * include/hbexprb.c
  * include/hbexprop.h
  * source/compiler/expropta.c
  * source/compiler/exproptb.c
  * source/compiler/genc.c
  * source/compiler/harbour.c
  * source/macro/macro.slx
  * source/macro/macro.y
  * source/macro/macroa.c
  * source/macro/macrob.c
  * source/vm/macro.c
  * source/vm/proc.c
    + Added initial R/T support for Namespaces - now Macro can resolve namespaces
      if the namespace is flaged as RUNTIME.
      /*
         NOTE: I was not sure if the default of NAMESPACE should support R/T or not
               and decided to allow R/T support only if explictly specified. We can
               easily reverse this, if the group thinks so.
       */

  * tests/namespace.prg
  * tests/tstnamespace.prg
    + Added sample usage of RUNTIME NAMESPACE and Macro resolution.

2008-02-06 14:26 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * source/compiler/genc.c
    * Missing fclose()
  * source/compiler/harbour.sly
    + Added #ifdef FORCE_MEM_STD to allow usage of malloc/realloc/free
  * source/vm/hvm.c
    * Minor optimization
  * tests/tiptest/loadhtml.prg
    * Typos

2008-02-05 20:37 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * include/simplex.c
    + Added support for generic conditional delimiters, instead of first letter only
  * source/compiler/harbour.slx
    + Treat '.' as an operator unless specifically valid as a token character:
      (0.1 / .1 / &Macro. / &Macro.Suffix / Prefix&Macro. / Prefix&Macro.Suffix / ...)

  * include/hbexpra.c
  * source/compiler/harbour.sly
    - Remove hacks used to detect and handle '.' inside IDENTIFIER token, used as NAmespace operator

  * include/hbcomp.h
  * include/hbexpra.c
  * include/std.ch
  * source/compiler/harbour.sly
    * Changed the Explicit Global Namespace' symbolic name, from * to Global (.NET convention)
      as suggested by Phile & Patrick

  * source/compiler/hbslex.c
  * source/compiler/expropta.c
  * source/macro/macroa.c
    * Touched to force compilation

  * tests/namespace.prg
    * Updated to reflect change of Explicit Global Namespace' symbolic name.

2008-02-04 13:20 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * source/compiler/harbour.c
    * Compiler warning

2008-02-04 12:33 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * include/simplex.c
    + Added support for delimiters, when 1st character of a token.
  * source/compiler/harbour.slx
    + Added '.' as delimiter when appears as 1st character in a token.

  * include/hberrors.h
  * source/compiler/hbgenerr.c
  * include/hbexpra.c
  * source/compiler/expropta.c
  * source/macro/macroa.c
  * source/compiler/harbour.sly
  * source/compiler/genc.c
  * source/compiler/harbour.c
  * include/std.ch
    + Added support for:

        *.<FunName>()

      to force GLOBAL function call context.

      /*
         NOTE: Because * at begin of line is a COMMENT marker, you should use:

            ( *.MyGlobalFunCall() ) // Note the use of PARENTHESIS
       */

    + Added support for:

        WITH NAMESPACE <namespace> [. <subnamespace> ]
           ...
        END

  * tests/tstnamespace.prg
  * tests/namespace.prg
    * Updated samples

2008-02-04 06:00 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
   * include/hbdefs.h
     ! modify guard that using HARBOUR_START_PROCEDURE "MAIN" is applicable
       to OS other than Windows by replacing MINGW32 with __WIN32__ define
       constant.

2008-02-01 11:37 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
   * include\hbexpra.c
   * source\compiler\genc.c
   * source\compiler\harbour.c
   * source\rtl\bkgtsks.c
     * Corrected compile warnings

2008-02-01 02:12 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * hrbdll.vc
    * Corrected typo.
  * include\hbextern.ch
    - Deffed out some codepage files due to missing externals in hrbdll.vc - sorry need help.

  * include/hbcomp.h
  * include/hbdefs.h
  * include/hberrors.h
  * include/hbexpra.c
  * include/hbexprb.c
  * include/hbexprc.c
  * include/hbexprop.h
  * include/hbmacro.h
  * include/hbvmpub.h
  * source/common/expropt1.c
  * source/common/reserved.c
  * source/compiler/expropta.c
  * source/compiler/exproptb.c
  * source/compiler/genc.c
  * source/compiler/genhrb.c
  * source/compiler/genobj32.c
  * source/compiler/harbour.c
  * source/compiler/harbour.slx
  * source/compiler/harbour.sly
  * source/compiler/hbgenerr.c
  * source/compiler/hbstrong.c
  * source/macro/macro.y
  * source/macro/macroa.c
  * source/macro/macrob.c
  * source/vm/macro.c
  * source/vm/hvm.c
  * include/std.ch
    ! Fixed all compiler memory leaks reported in clean build (including contribs).
      /* PP appears to still have some leak[s] */
    % Multiple optimizations - Will appreciate reports on speed difference if any.
    + Added compile time support for namespaces - please review new samples.
      /* Note: I chose compile time due to the static nature of namespaces,
         to provide earlier reporting of errors, and also for R.T performance.
         This choice has also negative aspects, namely no MACRO support and
         no HRB support.

         Due to time constraints, I did not get to test this feature as much as
         I'd normally like to do with such complex subject, but it was important
         to not hold so many changes out of CVS for longer period. For same time
         constraints I did not get to wrting any documentation, except for the
         info in the new samples (I hope it should be self descriptive enough).
       */

  + tests/extnamespace.prg
  + tests/namespace.prg
  + tests/tstnamespace.prg
    + Samples for new namespace features.

    + Added hack to support new USING NAMESPACE ...

  * source/vm/dynsym.c
    * Corrected & to use ==

  * source/pp/ppcore.c
    + Added auto define __PRG__

2008-02-01 12:00 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
   * source/rtl/pcre/config.h
   * source/rtl/pcre/config.h.generic
   * source/rtl/pcre/pcre.h
   * source/rtl/pcre/pcre.h.generic
   * source/rtl/pcre/pcreposix.c
   * source/rtl/pcre/pcreposix.h
   * source/rtl/pcre/pcre_chartables.c
   * source/rtl/pcre/pcre_chartables.c.dist
   * source/rtl/pcre/pcre_compile.c
   * source/rtl/pcre/pcre_config.c
   * source/rtl/pcre/pcre_dfa_exec.c
   * source/rtl/pcre/pcre_exec.c
   * source/rtl/pcre/pcre_fullinfo.c
   * source/rtl/pcre/pcre_get.c
   * source/rtl/pcre/pcre_globals.c
   * source/rtl/pcre/pcre_info.c
   * source/rtl/pcre/pcre_internal.h
   * source/rtl/pcre/pcre_maketables.c
   * source/rtl/pcre/pcre_newline.c
   * source/rtl/pcre/pcre_ord2utf8.c
   * source/rtl/pcre/pcre_printint.src
   * source/rtl/pcre/pcre_refcount.c
   * source/rtl/pcre/pcre_scanner.h
   * source/rtl/pcre/pcre_study.c
   * source/rtl/pcre/pcre_tables.c
   * source/rtl/pcre/pcre_try_flipped.c
   * source/rtl/pcre/pcre_ucp_searchfuncs.c
   * source/rtl/pcre/pcre_valid_utf8.c
   * source/rtl/pcre/pcre_version.c
   * source/rtl/pcre/pcre_xclass.c
   * source/rtl/pcre/ucp.h
   * source/rtl/pcre/ucpinternal.h
   * source/rtl/pcre/ucptable.h
     ! updated to version 7.6

2008-01-30 16:20 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/tbrowse.prg
    ! fixed dbgotop() and dbgobottom() methods to run only if ::SkipTopBlock
      and ::SkipBottomBlock are defined.

  * source/rtl/tbcolumn.prg
    ! fixed new() method to init ::bBlock only if a block is valid, otherwise
      init as nil block.

2008-01-29 22:20 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/browse.prg
    * fixed Page Down behaviour on bof().

2008-01-28 00:15 UTC+0100 Francesco Saverio Giudice <info at fsgiudice dot com>
  * source\rtl\bkgtsks.c
    * fixed hb_backgroundRun() function to check if midnight is passed and
      reset counters
    + added hb_backgroundRunForced() to C and PRG level
      this function permits to run Background activities also if
      SET BACKGROUND TASKS is OFF
      if should be usefull only for demonstration purpose or in specific cases

  * include\hbapi.h
  * include\hbextern.ch
    + added HB_BACKGROUNDRUNFORCED()

  * tests\bkgtest.prg
    * Updated

  * doc\en\bkgtsks.txt
    * Updated documentation

2008-01-23 14:35 UTC-0300 Luiz Rafael Culik Guimaraes <luiz at xharbour.com.br>
  *  makefile.vc
    !linking gtnul.lib is multi_gt is defined


2008-01-23 14:20 UTC-0300 Luiz Rafael Culik Guimaraes <luiz at xharbour.com.br>
  *  hrbdll.bc
     hrbdll.vc
    ! updated

2008-01-23 08:38 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/lang/msgltwin.c
    ! Updated date format in Lithuanian locale.
    (borrowed from Harbour, by Mindaugas Kavaliauskas)

2008-01-22 09:30 UTC-0600 Vicente Guerra <vicente@guerra.com.mx>
  * ./makefile.pc
    ! Added missing files.

2008-01-22 00:20 UTC-0300 Luiz Rafael Culik Guimaraes <luiz at xharbour.com.br>
  * makefile.bc
    makefile.vc
    hrbdll.bc
    makefile.pc
    ! updated to new files

2008-01-21 02:15 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * include/hbvmopt.h
  * include/hbapiitm.h
    + Added hb_itemSetNil() macro (by Przemyslaw Czerpak, borrowed from
      Harbour.
  * source/vm/arrays.c
  * source/vm/estack.c
  * source/vm/hash.c
  * source/vm/hvm.c
    % Use hb_itemSetNil() where possible.

2008-01-21 00:27 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  + source/codepage/cpes850.c
  - source/codepage/cpesdos.c
    Renamed according to actual language and codepage codes.
  (by Viktor Szakats, borrowed from Harbour).

2008-01-21 00:16 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  + source/codepage/cpde850.c
  + source/codepage/cpdeiso.c
  + source/codepage/cpel737.c
  + source/codepage/cpfr850.c
  + source/codepage/cptr857.c
  - source/codepage/cpeldos.c
  - source/codepage/cpgedos.c
  - source/codepage/cpgewin.c
  - source/codepage/cpfrdos.c
  - source/codepage/cptrdos.c
    Renamed according to actual language and codepage codes.
  * source/codepage/cpcswin.c
  * source/codepage/cpit850.c
  * source/codepage/cpitisb.c
  * source/codepage/cpitiso.c
  * source/codepage/cpskwin.c
    ! Some errors in comments fixed.
  * source/codepage/cphuiso.c
  * source/codepage/cphuisos.c
  * source/codepage/cphuwin.c
  * source/codepage/cphuwins.c
    ! Fixed sloppy wording in comment. (Thanks Chen)
  (by Viktor Szakats, borrowed from Harbour).
  * source/lang/msgltwin.c
  * source/codepage/cpltwin.c
    * changed language ID to: LTWIN
    * month name typo
  (by Mindaugas Kavaliauskas, borrowed from Harbour).
  * include/hbapicdp.h
  + source/codepage/cpruiso.c
  + source/codepage/cpdewin.c
  + source/codepage/uc1252.c
    + Added RUISO (Russian ISO-8859-5) and DEWIN (German CP1252, actually
      identical to DEISO) codepages and a CP1252<->Unicode table.
  * include/hbextern.ch
  * source/codepage/Makefile
    * Updated.

2008-01-20 08:30 UTC-0500 Paul Tucker <ptucker sympatico.ca>
  * source/rtl/cdpapi.c
    * added needed cast

2008-01-19 16:57 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/rtl/cdpapi.c
    + Added HB_UTF8CHR( nCode ) - returns UTF-8 representation of Unicode
      character nCode.

2008-01-17 21:45 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/achoice.prg
    * refixed to process pending keys from udf.

2008-01-16 23:00 UTC+0200 Pavel Tsarenko <tpe2/at/mail.ru>
   * source/rtl/gtwin/gtwin.c
     * rewritten kbdShiftsState()
   * contrib/libnf/alt.c
   * contrib/libnf/ctrl.c
   * contrib/libnf/shift.c
     ! fixed FT_ALT(), FT_CTRL() and FT_SHIFT() functions

2008-01-16 12:00 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
   * contrib/rdd_ads/ace.h
     - MinGW32 does not recognize #pragma warning

   * source/rtl/mlctopos.c
   * source/vm/itemapi.c
     + Add newline to end of file (for MINGW32)

   * source/rtl/pcre/config.h
   * source/rtl/pcre/config.h.generic
   * source/rtl/pcre/pcre.h
   * source/rtl/pcre/pcre.h.generic
   * source/rtl/pcre/pcreposix.c
   * source/rtl/pcre/pcreposix.h
   * source/rtl/pcre/pcre_chartables.c
   * source/rtl/pcre/pcre_chartables.c.dist
   * source/rtl/pcre/pcre_compile.c
   * source/rtl/pcre/pcre_config.c
   * source/rtl/pcre/pcre_dfa_exec.c
   * source/rtl/pcre/pcre_exec.c
   * source/rtl/pcre/pcre_fullinfo.c
   * source/rtl/pcre/pcre_get.c
   * source/rtl/pcre/pcre_globals.c
   * source/rtl/pcre/pcre_info.c
   * source/rtl/pcre/pcre_internal.h
   * source/rtl/pcre/pcre_maketables.c
   * source/rtl/pcre/pcre_newline.c
   * source/rtl/pcre/pcre_ord2utf8.c
   * source/rtl/pcre/pcre_printint.src
   * source/rtl/pcre/pcre_refcount.c
   * source/rtl/pcre/pcre_scanner.h
   * source/rtl/pcre/pcre_study.c
   * source/rtl/pcre/pcre_tables.c
   * source/rtl/pcre/pcre_try_flipped.c
   * source/rtl/pcre/pcre_ucp_searchfuncs.c
   * source/rtl/pcre/pcre_valid_utf8.c
   * source/rtl/pcre/pcre_version.c
   * source/rtl/pcre/pcre_xclass.c
   * source/rtl/pcre/ucp.h
   * source/rtl/pcre/ucpinternal.h
   * source/rtl/pcre/ucptable.h
     ! updated to version 7.5

2008-01-15 23:57 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * source\rdd\bmdbfcdx\bmdbfcdx1.c
    * Missing type cast

2008-01-16 03:54 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/rdd/wacore.c
  * source/vm/dynsym.c
    ! Some more MT mode fixes.

2008-01-15 17:16 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * source/rdd/usrrdd/usrrdd.c
    * added missing 'const' to few variable declarations
  synced with harbour as possible.

2008-01-15 08:50 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/vm/harbinit.prg
    * set key K_F1 to __XHELP only if help() exist. Clipper compliance.

2008-01-15 10:48 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * source/rdd/dbcmd.c
    * changed hb_retnl() in LASTREC() to hb_retnint() to increase maximum
      record number to 2^32 - unsigned 32bit integer instead of signed one.
  synced with harbour as possible.

  * source/rdd/dbf1.c
    ! fixed possible memory leak/GPF when sx_DBFencrypt() is called when
      table already has password set
    * added support for password passing in sx_DBFdecrypt() - it's accepted
      only when table has no password
  synced with harbour as possible.

  * source/rdd/hbsix/sxcompat.prg
    - removed SX_SETPASS()
  * source/rdd/hbsix/sxtable.c
    + added new SX_SETPASS() implementation which supports
      some undocumented SIX3 actions
    ! fixed problem with setting password for currently open table
      with SX_SETPASS( <cPass> )
  synced with harbour as possible.

  * source/rdd/usrrdd/rdds/adordd.prg
    + added the next functions working to relations with other areas with diferents rdd:
      ADO_FORCEREL( nWA )
      ADO_RELEVAL( nWA, aRelInfo )
      ADO_EVALBLOCK()
      ADO_SEEK()

2008-01-15 07:30 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/achoice.prg
    * fix to avoid pending keys only from udf.

2008-01-15 04:00 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/vm/thread.c
    ! One more fix to stack initialization in MT mode after last Miguel's changes.

2008-01-15 02:36 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/vm/hvm.c
    % Use hb_stackAllocItem() whenever possible.
  * source/vm/thread.c
    ! Fixed stack initialization in MT mode after last Miguel's changes.

2008-01-14 21:30 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/tbrowse.prg
    ! fixed a bug added on my last commit. Created nMaxRow data in
      TDataCache class to control the MaxRow, instead LastRow. In any
      circumstances maxrow is not the same as lastrow and the rows aren't
      painted properly.

    ! avoided flicker on screen paint when tbrowse open a big dbf or when we
      press navigation keys repeatedly. Activated DispBegin() in accordance
      with occurrences of painting on performstabilization() method.

  * source/rtl/achoice.prg
    ! avoid processing pending keys generated by an achoice udf.

2008-01-14 21:27 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/rdd/wacore.c
    ! Fixed non-initialized mutex in MT mode under HB_OS_UNIX (a bug dating
      from 2004).

2008-01-14 11:00 UTC-0200 Walter Negro <anegro/at/overnet.com.ar >
  * include/hbapi.h
  * source/vm/fastitem.c
    ! Fixed modification in implementation of HB_IT_EXTREF cause memory-leak and
      incorrect release.

2008-01-14 10:50 UTC-0200 Walter Negro <anegro/at/overnet.com.ar >
  * source/rtl/set.c
    ! Implementation of SET MACRO BLOCK VARS [ON|OFF|XHARBOUR|CLIPPER] and
      Set( _SET_MACROBLOCKVARS, [<lNewSet>], [<bBlock>] ).

2008-01-14 10:40 UTC-0200 Walter Negro <anegro/at/overnet.com.ar >
  * utils/hbpp/hbpp.c
    + Add hb_fsNameConv function to compile with trace.

2008-01-14 10:40 UTC-0200 Walter Negro <anegro/at/overnet.com.ar >
  * include/hbset.h
  * include/hbvmpub.h
  * include/set.ch
  * include/std.ch
  * source/vm/codebloc.c
  * source/vm/hvm.c
  * tests/macrovars.prg
    + Implementation of SET MACRO BLOCK VARS [ON|OFF|XHARBOUR|CLIPPER] and
      Set( _SET_MACROBLOCKVARS, [<lNewSet>], [<bBlock>] ).
      The set ON is equal to XHARBOUR, and OFF is equal to CLIPPER.
      By default is OFF.

      This SET permit use the next code without error
      //------------------------------------//
      PROCEDURE Main()
           LOCAL b
           SET MACRO BLOCK XHARBOUR

           b := &("{|| M->NewPrivate := 1 }")

           Eval( b )
           ? M->NewPrivate
      RETURN
      //------------------------------------//


2008-01-14 14:07 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/common/hbfopen.c
    ! Removed an extraneous copy of hb_fsNameConv().

2008-01-10 22:03 UTC-4:40 Marcelo Anelli C. <marceloanelli@users.sourceforge.net>
  * contrib\mysql\mysqlrdd.prg
    ! fixed Rreturn FAILURE to Return 0, to avoid confusion from return succes-
      fully from 1st connection
    + added entry to bind to UR_RECNO, in this specific case == UR_RECID

2008-01-10 13:25 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * source\rdd\wafunc.c
    * Undo change hb_rddOpenTable to use hb_rddSelectFirstAvailable() instead of hb_rddSelectWorkAreaNumber( 0 );

2008-01-10 11:47 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * contrib\rdd_ads\rddads.h
  * include\hbapi.h
  * include\hbapiitm.h
  * include\hbapirdd.h
  * include\hbrddbmc.h
  * include\hbrddcdx.h
  * include\hbrdddbf.h
  * include\hbrdddel.h
  * include\hbrddntx.h
  * include\hbrddsdf.h
  * source\rdd\bmdbfcdx\bmdbfcdx1.c
  * source\rdd\dbf1.c
  * source\rdd\dbfcdx\dbfcdx1.c
  * source\rdd\dbffpt\dbffpt1.c
  * source\compiler\harbour.slx
  * source\compiler\harbour.sly
  * source\rtl\valtype.c
  * source\rdd\workarea.c
    + Adding NULL fields capabilities in progress

  * include\usrrdd.ch
  * source\rdd\usrrdd\usrrdd.c
    + Added support to incremental fields and flags.

  * include\hbtrace.h
    ! fixed miror redefine warnings.

  * include\thread.h
    * Introduced pEnd for more quick stack control.

  * source\common\hbdate.c
    ! fixed TRACE in hb_timeDecStr( char * szTime, LONG lSeconds )

  * source\common\hbfopen.c
    + added hb_fsNameConv nedded to compile PP aplicacion.

  * source\rdd\usrrdd\rdds\adordd.prg
    ! corrected some bugs when catalog can't be created.

  * source\rdd\wafunc.c
    * changed hb_rddOpenTable to use hb_rddSelectFirstAvailable() instead of hb_rddSelectWorkAreaNumber( 0 );

  * source\vm\hvm.c
    ! fixed HB_P_POPGLOBAL missing ;
    ! fixed TRACE in hb_vmPushMacroBlock( BYTE * pCode )
    ! fixed TRACE in hb_xvmLocalSetInt( int iLocal, int iVal )
    ! fixed TRACE in hb_xvmLocalSetStr( int iLocal, const char * pVal, ULONG ulLen )
    * hb_vmPushSymbol( PHB_SYMB pSym ), hb_vmPushLocalByRef( SHORT iLocal ) to use new hb_stackAllocItem()
    * hb_vmPopLocal( SHORT iLocal )

  * include\hbstack.h
  * source\vm\arrays.c
  * source\vm\estack.c
  * source\vm\fastitem.c
  * source\vm\garbage.c
  * source\vm\hvm.c
  * source\vm\itemapi.c
    ! fixed flag type HB_IT_EXTREF, HB_IT_MEMVAR.
    * Used if else if instead of switch over type comparison, because type sometimes has flags as
      HB_IT_EXTREF, HB_IT_MEMVAR, HB_IT_BYREF or HB_IT_NULL conbined with other types.
    * Introduced pEnd for more quick stack control.
    + added  hb_stackItemBasePtr().
    * Removed some random GPF's when conbined types was used.

  * source\rdd\usrrdd\rdds\vfpcdx.prg
    ! some minor sintax fixes

2008-01-08 10:00 UTC-0300 Luiz Rafael Culik Guimaraes <luiz at xharbour.com.br>
  * source/tip/mail.prg
    ! minor fix on class declaration

2008-01-07 12.00 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * include/hbdefs.h
    - HARBOUR_START_PROCEDURE "MAIN" no longer required by:
      * OpenWatcom 1.2 (and above)
      * MinGW 3.4.5 (did not test it with lower version)
      NOTE: Tested _ONLY_ with versions as mentioned above; this resolves
            previously non-running xbscript.exe under OpenWatcom and MinGW
            due to non-existence of "MAIN" in program.

2008-01-07 10:30 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * source/rtl/win32prn.prg
    * added ability to set text alignment via following
    *    VAR SetTextHori    INIT TA_LEFT    // Default horizontal alignment SetTextAlign() (TEXTOUT)
    *    VAR SetTextVert    INIT TA_BOTTOM  // Default vertical alignment for SetTextAlign() (TEXTOUT)
    *
    * altered METHOD's TEXTOUT(), TEXTOUTAT() and TEXTATFONT() to accept additional parameter "nAlignVert"

2008-01-07 04.30 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * ChangeLog
    ! fix my last 2 entries, 2007 -> 2008

  * source/compiler/harbour.c
    ! fix compilation for OpenWatcom 1.3

  * include/hbvm.h
    ! function prototype to be the same as function body:
      hb_vmAtInit( HB_INIT_FUNC pFunc, void * cargo ) -> hb_vmAtInit( const HB_INIT_FUNC pFunc, void * cargo )
      hb_vmAtExit( HB_INIT_FUNC pFunc, void * cargo ) -> hb_vmAtExit( const HB_INIT_FUNC pFunc, void * cargo )

  * include/hbapiitm.h
    ! function prototype to be the same as function body:
      hb_itemPutNL( PHB_ITEM pItem, LONG lNumber ) -> hb_itemPutNL( PHB_ITEM pItem, const LONG lNumber );

2008-01-06 13:00 UTC+0200 Pavel Tsarenko <tpe2/at/mail.ru>
  * makefile.dc
    ! fixed compilation under Digital Mars

2008-01-03 18.20 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * source/compiler/genc.c
    + /vd now produces *.ext file for ease inclusion in main program when
      using pCode.DLL (just in case). It is the least list of EXTERNAL
      functions required by PRG being compiled and must exist in main thread;
      but this may not be a complete list because it is impossible to list all
      functions in deeper/nested stacks based on PRG being compiled.

2008-01-03 12.00 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * include/hbcomp.h
  * source/compiler/cmdcheck.c
  * source/compiler/harbour.c
  * source/compiler/genc.c
  * source/compiler/hbusage.c
    + add compiler switch /vd (assume EXTERNALs=DYNAMICs) to free programmers
      from declaring DYNAMIC FUNCTIONs manually.
      NOTE/TIPS:
      1) using /vd, now pCode programming is a lot easier. Programmers no
         longer required to declare DYNAMIC FUNCTIONS since /vd automatically
         assumed EXTERNALs as DYNAMICs. Source code should be much cleaner
         particularly on complex PRG codes.
      2) /vd _SHOULD_ _ONLY_ be used for creating pCode DLL.
      3) pCode.DLL _SHOULD_ _NEVER_ have function MAIN(), else unpredicted
         result may occur (eg DLL won't load) and ..
      4) do not use functions of same name which exist in main thread (EXE)
      5) in the main thread (EXE) one still have to REQUEST functions that are
         supposed to be required by pCode.DLL because, at linking time, linker
         is unable to auto-detect if they are required.

  * source/vm/maindllp.c
    ! minor formatting and uncomment __NO_EXPORT__

  + tests/pdll55.bat
    is batch file to create pCode.DLL for Borland 5.5.1 ( demonstrating /vd )

2008-01-01 14:20 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/tbrowse.prg
    ! fixed bug about down/up/pgdn/pgup/top/bottom movements when datasource
      is an array.

  * makefile.pc
    * erase bin\ppgen.exe after pptable.c generation.

2008-01-01 23:23 UTC+0100 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>
  * include/hbdefs.h
    * Corrected typo _declspec => __declspec in

      #elif defined( __BORLANDC__ )
         #define HB_FORCE_EXPORT __declspec( dllexport )

2007-12-31 20:45 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/pp/ppcore.c
    ! Fixed a memory leak in #untranslate directive processing.

2007-12-31 21.30 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * include/hbdefs.h
  * include/hbapi.h
  * include/hbapifs.h
  * include/hbvm.h
  * include/hbvmpub.h
  * include/hbinit.h
  * source/rtl/filesys.c
  * source/vm/arrays.c
  * source/vm/extend.c
  * source/vm/fm.c
  * source/vm/hvm.c
    + HB_FORCE_EXPORT constant to force exporting functions contained in
      source/vm/maindllp.c to ease pCode DLL features without changing
      compiler flags in order to enable pCode DLL features with standard builds.
    + __NO_EXPORT__ constant to hide functions of same name to avoid compiler
      confusion during linking time when one has to include imported lib of
      pCode DLL into app (mainly C level routines)
  * source/vm/maindllp.c
    + implementation of __NO_EXPORT__ define constant

2007-12-31 16.00 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * source/vm/dynlibhb.c
    + HB_LIBLOAD() and HB_LIBFREE(), wrappers of LIBLOAD() and LIBFREE() just
      for similarity in function name space of pCode DLL utilities.

2007-12-31 14.10 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * source/vm/maindllp.c
    ! add efforts to find function address in 3 ways:
      1. conventional         eg. "_hb_parc"
      2. ms flavor            eg. "hb_parc"
      3. Watcom register call eg. "hb_parc_"
      This will enable pCode.DLL to call function in cross-compiled module as
      long as it was compiled using cdecl calling convention (xHarbour default)
      NOTE:
      OpenWatcom has 2 types of cdecl, ie. stack call and register call.
      Stack call prepend "_" before function name, ie "_hb_retni" while register
      call append "_" thereafter ie "hb_retni_". (Am not aware of others)


2007-12-30 22:51 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * include/hbpp.h
  * source/pp/ppcore.c
    ! fixed typo in quoting condition for 1-st line token
    + added #ytranslate, #ycommand, #yuntranslate, #yuncommand
      case sensitive version of corresponding #x* directives
      (but not supporting overloading!)
    * most extended codeblock support code in PP synced with Harbour
    % some little optimizations
    (Mostly borrowed from Harbour, by Przemyslaw Czerpak)

2007-12-30 20:47 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * config/w32/msvc.cf
    * Added -nologo flag for cl.exe
  * include/hb_io.h
    * Synced with Harbour
  * include/hbapigt.h
    * USHORT HB_EXPORT --> HB_EXPORT USHORT
  * source/common/hbfsapi.c
    ! Fixed compilation under MSVC.
  * source/compiler/harbour.c
    * Typo fix.

2007-12-30 05.00 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * source/pp/ppgen.c
    ! function missing while synced with Harbour
  * source/common/hbfsapi.c
    + include <windows.h> for Windows

2007-12-29 14:20 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * hrbdll.bc
  * hrbdll.dc
  * hrbdll.gc
  * hrbdll.pc
  * hrbdll.vc
  * hrbdll.wc
  * makefile.bc
  * makefile.dc
  * makefile.gc
  * makefile.pc
  * makefile.vc
  * makefile.wc
    + added hbfopen.c file.

2007-12-29 16:41 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * include/hbpp.h
  * source/pp/ppcore.c
    ! added protection against automatic word concatenation in some cases
    ! line numbering fixes
   (Borrowed from Harbour, by Przemyslaw Czerpak)

2007-12-29 15:48 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * include/hbapifs.h
  * include/hbpp.h
  * source/common/Makefile
  + source/common/hbfopen.c
  * source/common/hbfsapi.c
  * source/common/hbtrace.c
  * source/compiler/genc.c
  * source/compiler/gencobj.c
  * source/compiler/genhrb.c
  * source/compiler/genobj32.c
  * source/compiler/harbour.c
  * source/compiler/harbour.sly
  * source/compiler/hbpcstat.c
  * source/compiler/ppcomp.c
  * source/ct/disk.c
  * source/ct/files.c
  * source/pp/ppcore.c
  * source/pp/ppgen.c
  * source/rtl/direct.c
  * source/rtl/file.c
  * source/rtl/filesys.c
  * source/rtl/fparse.c
  * source/rtl/fstemp.c
  * source/rtl/set.c
  * source/rtl/trace.c
  * source/rtl/gtcrs/chrmap.c
  * source/vm/errorapi.c
  * source/vm/fm.c
  * utils/hbpp/hbppcore.c
    * some GPF guards
    * use hb_fsNameConv() instead of hb_fileNameConv()
    + added hb_fopen() function - it's a wrapper to fopen() function but
      calls internally hb_fsNameConv()
    * use hb_fopen() instead of fopen()
    + added hb_fsMaxFilesError()
    * use hb_fsMaxFilesError() to avoid direct accessing of errno
      value - some compilers/platforms do not support errno
    * eliminated unnecessary errno access
    * redirect error messages when error trap is not defined into
      user dispout function
    (Borrowed from Harbour, by Przemyslaw Czerpak)

2007-12-29 04:27 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/compiler/harbour.c
    ! Fixed hex dump of leaked memory (@ was displayed instead of 9).

2007-12-28 18:15 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * include/hbpp.h
  * source/pp/ppcore.c
    % added some speed optimizations - it's not done in the way I want to
      have in the final version but with some very small modifications it
      should make people using a lot of #[x]translate (Enrico ;-)) happy.
    (Borrowed from Harbour, by Przemyslaw Czerpak)

2007-12-28 16:10 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/common/hbver.c
    * Silenced a warning.

2007-12-28 15.50 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * include/hbtypes.h
  * source/vm/maindllp.c
    ! use static handle to improve speed
    + basic file i/o : hb_fsClose, hb_fsDelete, hb_fsOpen, hb_fsRead,
      hb_fsSeek, hb_fsWrite and hb_fsCreate and hb_ret

2007-12-28 05:50 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/common/hbver.c
    ! Fixed memory corruption from my previous commit.

2007-12-27 22:20 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * include\hbcomp.h
    - removed LANG_JAVA from LANGUAGES.

  * contrib\pgsql
    + added make_pc.bat (to build libhbpg.lib)
    + added makefile.pc (idem)
    + added pocc.mak (to build libpq from Postgresql sources under Pelles C).
    + added readmepc.txt (explain how to build libpq under Pelles C).
    + created pgrdd subfolder
    ! moved pgrdd.prg and tstpgrdd.prg to pgrdd subfolder.

2007-12-27 17.40 UTC+0100 Maurilio Longo <maurilio.longo@libero.it>
   * config/os2
     * global.cf, faster way to delete files on clean.

2007-12-27 17.25 UTC+0100 Maurilio Longo <maurilio.longo@libero.it>
   * include/hbdefs.h
     * removed HB_LONG_LONG_OFF definition for OS/2 build. There is no
       HB_USE_LARGEFILE64 support for OS/2 yet.

2007-12-27 18.35 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * include/hbapi.h
    ! minor fix on declaration of hb_xautorelease( void * pMem )

2007-12-27 05.30 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * source/compiler/harbour.c
    ! minor fix (for Windows OS) to allow define and include path in
      quotation marks and compile prg with long file name eg:
      harbour "my long program" -d"__FOO__" -i"C:\My Long Include Path"

2007-12-26 18:20 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * include\hbcomp.h
    ! restored hb_compGenCObj and hb_compGenObj32 function declarations.

2007-12-26 12:45 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * makefile.bc
  * makefile.dc
  * makefile.gc
  * makefile.pc
  * makefile.vc
  * makefile.wc
  * source\compiler\MakeFile
    + restored gencobj.c and genobj32.c files.

  * source\compiler\harbour.c
  * source\compiler\cmdcheck.c
  * source\compiler\hbusage.c
    ! restored -go and -gw flags.

  * source\compiler\gencobj.c
  * source\compiler\genobj32.c
    + restored to complier.

  * source\rtl\tbrowse.prg
    ! fixed GoBottom() method behaviour. Suggested by Pavel Tsarenko.

2007-12-25 12.30 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
   * source/tip/thtml.prg
     * hb_strAtI() as extern "C"

2007-12-24 09:30 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * source\rdd\usrrdd\rdds\vfpcdx.prg
    ! fixed some stupid bugs, 2 letters changed.

2007-12-24 14:34 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/macro/macro.y
    ! Fixed a memory leak in the macro compiler.

2007-12-24 00:56 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/common/hbver.h
    * Fixed some warnings, partially synced with Harbour.
  * source/compiler/harbour.sly
    ! Fixed building under Pelles C and MS C.

2007-12-23 20:14 UTC+0100 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>
  * source/rtl/fssize.c
    * Commented out unused variable ulRet in function hb_fsFSize()

  * source/ct/envparam.c
    * Removed unuseful * operator in the expression *sCurEnv++ in function HB_FUNC( ENVPARAM )

2007-12-23 21:33 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * makefile.vc
    * Use generic LIB_CMD.
  * makefile.wc
    ! Updated. Tried to sync it as much as possible with makefile.vc.
  * source/common/expropt1.c
    ! Fixed two old bad typos spotted by Open Watcom.
  * source/compiler/harbour.sly
    ! Added some hacks to allow building with unmodified Bison 2.1 for Borland
      and Open Watcom.

2007-12-23 13.10 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
   * include/hbapigt.h
      + function prototype:
        USHORT HB_EXPORT hb_gtSaveAll( USHORT uiTop, USHORT uiLeft, USHORT uiBottom,
                          USHORT uiRight, void * pScrBuff )
   * include/hbapiitm.h
      + function prototype:
        PHB_ITEM HB_EXPORT hb_itemPutDTsec( PHB_ITEM pItem, double dDateTime )
        PHB_ITEM HB_EXPORT hb_itemPutDate( PHB_ITEM pItem, LONG lDate )
        PHB_ITEM HB_EXPORT hb_itemDoCRef( char * szFunc, ULONG ulRefMask, ULONG ulPCount, ... )

   * include/hbapi.h
      + function prototype:
        HB_ULONG HB_EXPORT hb_hextonum(char *cHex)

   * source/rtl/win32ole.prg
      ! add extern "C" attributes to:
        HB_EXPORT BSTR hb_oleAnsiToSysString( LPSTR cString )
        HB_EXPORT LPWSTR hb_oleAnsiToWide( LPSTR cString )
        HB_EXPORT void hb_oleItemToVariant( VARIANT *pVariant, PHB_ITEM pItem )
        HB_EXPORT LPSTR hb_oleWideToAnsi( BSTR wString )

   * include/hbapirdd.h
      + function prototype:
        HB_EXPORT void hb_rddWaShutDown( void )

2007-12-23 05:20 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * include/hbexprb.c
    ! Reduce At("", "...") to 0 instead of 1 in macro compiler (borrowed from
      Harbour).
  * source/common/hbdate.c
    ! Fixed some HB_TRACEs.
  * source/compiler/harbour.slx
    ! Fixed some memory errors.

2007-12-22 22:07 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/debug/dbgbrwsr.prg
    ! Fixed object inspector in the debugger.

2007-12-22 22:03 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * include/hbapi.h
  * include/hbexpra.c
  * include/hbexprb.c
  * include/hbexprop.h
  * include/simplex.c
  * source/common/expropt1.c
  * source/common/hbstr.c
  * source/compiler/harbour.slx
  * source/compiler/harbour.sly
  * source/macro/macro.slx
  * source/macro/macro.y
    * changed parameters in function: hb_compStrToNum() now the string
      size is passed explicitly so it can work with strings which does
      not have trailing ASCII NUL character.
    * fixed \" quoting in extended strings
    * removed \q quoting
    + added support for \x<hex> and \<oct> quoting in extended strings
      (just like in C).
    ! fixed final string size calculation in extended strings
    + added hb_strlow
    ! Extended strings in all contexts can include NULs.
    (Mostly borrowed from Harbour. I had to do Simplex integration myself,
    I hope I did not miss anything.)

2007-12-22 09:10 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
   * makefile.bc
   * makefile.dc
   * makefile.gc
   * makefile.pc
   * makefile.vc
   * makefile.wc
   * source\compiler\MakeFile
     - removed gencobj.c genobj32.c and genjava.c files.

2007-12-22 05.00 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
   * include/hbcomp.h
   * source/compiler/cmdcheck.c
   * source/compiler/hbusage.c
   * source/compiler/harbour.c
   - source/compiler/gencobj.c
   - source/compiler/genjava.c
   - source/compiler/genobj32.c
     ! remove unfunctional features as previously described as /go /gw and /gj
       NOTE:
       AFAIK /gw and /gj has never been functional. As to /go, I'   * not
       certainly sure if there are users using it but as I review makefiles,
       it seems that /go has never been implemented. Should there be users
       using it, now obj creation can only be done in "surface", meaning that
       CC is now can only be invoked directly from command line, not from
       within harbour.exe

2007-12-21 21:43 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * include/hbapifs.h
  * source/rtl/filesys.c
    + added support for DOS/Windows DENY_* flag emulation in POSIX
      systems using BSD locks. So far such emulatin was done with
      standard POSIX locks. The new emulation can be enabled by setting
      HB_USE_BSDLOCKS and disabled by HB_USE_BSDLOCKS_OFF. By default
      it's enabled in Linux and BSD* based systems.
      Please not that it BSD locks work in differ way then POSIX ones.
      They are bound with file handle and process ID not i-node and PID.
      It will allow to synchronize even single process but it will not
      work in NFS and some old BSD and Linux kernels. This synchronization
      cannot be used also between different platforms. If someone needs
      such synchronization then he should build Harbour on all platforms
      with HB_USE_BSDLOCKS_OFF and HB_USE_SHARELOCKS with valid multi
      platform lock offset
      (Borrowed from Harbour, by Przemyslaw Czerpak)

2007-12-21 20:12 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/rtl/console.c
    ! Don't move cursor to start of row on exit - it breaks output at least in
      GTSTD. Thanks to Przemyslaw Czerpak.

2007-12-21 19:08 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * include/hbapifs.h
  * include/hbcomp.h
  * include/hberrors.h
  * include/hbpp.h
  * source/common/hbfsapi.c
  * source/compiler/hbgenerr.c
  * source/compiler/ppcomp.c
  * source/pp/ppcore.c
  * source/pp/pplib.c
  * source/rtl/filesys.c
  * utils/hbpp/hbpp.c
  * utils/hbpp/hbppcore.c
  * utils/hbpp/hbppdef.h
    * char * -> const char * changes, borrowed from Harbour.

2007-12-21 18:21 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * make_xmingw.sh
    ! Updated MinGW cross-compiler detection in recent Gentoo Linux releases.

2007-12-21 15:11 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * include/hashapi.h
  * include/hbapi.h
  * include/hbapidbg.h
  * include/hbapierr.h
  * include/hbapifs.h
  * include/hbapigt.h
  * include/hbapilng.h
  * include/hbcomprs.h
  * include/hbdate.h
  * include/hbfast.h
  * include/hbmath.h
  * include/hbregex.h
  * include/hbserv.h
  * include/hbset.h
  * include/hbstack.h
  * include/hbvm.h
  * include/hbvmpub.h
  * include/thread.h
    * HB_EXPORT usage standardization, formatting.

2007-12-21 13:42 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * include/hbapifs.h
  * source/common/hbfsapi.c
    ! Some compiler/PP memory leaks fixed (borrowed from Harbour).

2007-12-19 11:10 UTC-0300 Luiz Rafael Culik Guimaraes <luiz at xharbour.com.br>
  ! source/rtl/filesys.c
    source/rtl/fssize.c
    source/hbffind.c
    ! sync with harbour to allow usage of files >=4gb  on hpux and linux
  ! include/hbapifs.h
    ! minor function header correction

2007-12-19 15:10 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/vm/itemapi.c
    * Formatting (tabs changed to spaces).

2007-12-19 15:01 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/vm/itemapi.c
    * Fixed some warnings.

2007-12-19 03:15 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * include/thread.h
  * source/rdd/wacore.c
  * source/vm/thread.c
    * Changed NetErr() to thread-local.

2007-12-19 02:15 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * include/std.ch
    + Re-added SET OUTPUT SAFETY #commands although I haven't noticed any
      difference with both settings.
  * source/rdd/wacore.c
    ! Fixed my bad typo.
  * source/rdd/wafunc.c
    * Made USE TEST NEW a threadsafe operation. NB: SELECT (0); USE TEST
      is still not threadsafe and needs an external mutex. Thanks to
      Przemek for valuable advice!
  * tests/mtstress.prg
    + Test USE ... NEW syntax safety.

2007-12-17 19:45 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/debug/dbgbrwsr.prg
    ! Added HbDbBrowser:invalidate() message. Fixes work area browsing in debugger.

2007-12-17 19:10 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * include/hbapirdd.h
  * source/rdd/wacore.c
  * source/rdd/workarea.c
    ! Restored thread-local storage for current work area number/pointer.
    ! Restored mutex-guarded access to work area list under MT.

2007-12-17 09:23 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * source/vm/pvalue.c
    * Corrected bad typo

2007-12-14 23:40 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/tbrowse.prg
    ! fixed bug reported by Pavel Tsarenko from comp.lang.xharbour news:
      ( Small Tbrowse incompatibility ). After dbgobottom and forcestable
      the tbrowse is going to phantom record under custom skipblock.

2007-12-12 21:22 UTC+0800 Pritpal Bedi <pritpal@vouchcac.com>
  * contrib/rdd_ads/adsmgmnt.c
    ! Fixed memory leak in HB_FUNC( ADSMGGETLOCKOWNER )
      if ( pstUserInfo )
      {
         hb_xfree( pstUserInfo );
      }

2007-12-08 02:20 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source\vm\arrays.c
    * Correct minor bug in hb_arrayFromParams() when called from function with no stack frame.

  * source\compiler\harbour.slx
  * source\compiler\harbour.sly
  * source\rtl\tclass.prg
  * tests\tstdivert.prg
    * Adjusted DIVERT  syntax to use a FLAG clause:

       DIVERT TO <pFuncPointer>|<pMessagePointer> [OF <oNewSelfOrNil>] FLAGS [<nDivertFlags>]


2007-11-08 11:00 UTC-0300 Luiz Rafael Culik Guimaraes <luiz at xharbour.com.br>
  ! source/rtl/idle.c
    ! fixed problem that make 100% usage on linux on newer kernels

2007-12-07 22:40 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  + tests/tstdivert.prg
    + Sample for new DIVERT syntax

2007-12-07 22:30 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/vm/hvm.c
    ! Fixed typos introduced when hb_stackSetActionRequest() was added which broke FINALLY functionality

  * include/hbapi.h
  * include/hbvmpub.h
  * source/vm/arrays.c
  * source/vm/classes.c
  * source/vm/debug.c
  * source/vm/estack.c
  * source/vm/extend.c
  * source/vm/fastitem.c
  * source/vm/pcount.c
  * source/vm/pvalue.c
    * Renamed members paramcnt and paramsoffset of hb_struSymbol to arguments and locals respectively
    + Added member USHORT params to hb_struSymbol

  + include/divert.ch
  * include/hbpcode.h
  * source/compiler/genc.c
  * source/compiler/gencc.c
  * source/compiler/harbour.slx
  * source/compiler/harbour.sly
  * source/compiler/hbdead.c
  * source/compiler/hbfix.c
  * source/compiler/hblbl.c
  * source/compiler/hbpcode.c
  * source/compiler/hbpcstat.c
  * source/compiler/hbstripl.c
    + Added new systax:

   DIVERT TO <pFuncPointer>|<pMessagePointer> [OF <oNewSelfOrNil>] [<nDivertFlags>]


Description:
------------

The DIVERT statement is an alternative to normal Function/Method call
when all parameters of the current function/procedure/method are to be
passed to the called function/procedure/method. It differs from normal
calls in that the callee literally borrowes the current execution
context, as if it was called directly by the caller of the current
Function/Method.

This has performance significance in that a good portion of normal
Function Call overhead is avoided. There are some logical differences
as well. Normal function call receives a new Stack Frame, meaning its
Locals and Formal Parameters are stored in a new dedicated Stack space.
DIVERT Calls on the other hand adopts the Stack Context of the caller,
thus it literally shares the Formal Parameters and Locals' Stack Frame
of its caller. This means that changes made to Formal Parameters in
the callee are directly effecting the caller Formal Parameters.
Similiarily changes made to the callee's Locals are directly effecting
the respective Locals of the caller. Naturally this will only be
relevant/visible if the DIVERT_RESUME flag is used.

The technical nature of this statement dictates few technical
observations:

   - The number of Callee's Formal Paramaters must equal the number
     of Formal Parameters of the caller, except if the caller or
     callee uses Variable Paramaters decleration (...), or if the
     callee or caller do not declare any Locals. This restriction
     can be masked by using the optional DIVERT_IGNORE_SIGNATURE flag,
     but this does not change the serious technical implications of
     such scheme.

   - Since Formal Parameters and Locals are implemented as positional
     place holders in the respective Stack Space, all actions on the
     callees Formal Parameters and/or Locals will use the respective
     storage position of the caller's Formal Param and/or Local, based
     on the relative position of the callee's Formal Parameter and/or
     Local declaration, regardles of its name. For example let's assume
     that caller is declared as:

        FUNCTION SomeFunc( p1, p2 )
           LOCAL l1, l2

     and the callee is declared as:

        FUNCTION OtherFunc( param1, param2 )
           LOCAL local1, local2

     code of callee such as:

        loacl1++

     will directly manipulate the respective position of the caller,
     in this case, much like caller's

        l1++

   - IOW manipulation of callee's Locals and/or Formal Parameters
     will directly manipulate respective Local/Formal Parameter of the
     caller. This can cause serious problems when used with
     DIVERT_RESUME by anyone not fully aware of its significance.
     Make sure that any function called by DIVERT with the
     DIVERT_RESUME flags is DIVERT friendly, i.e does not declare
     any Locals, and or usage of its local is intended to manipulate
     its DIVERT caller if/when activated as a DIVERT call.

   - DIVERT calls default to using exisiting Self object if called
     from a Method. In order to DIVERT into a Function from a Method
     it is needed to explictly specifiy NIL using the OF clause,
     as follows:

        DIVERT TO (@TraceLog) OF NIL

   - DIVERT calls nested within TRY/END or BEGIN SEQUENCE/END will
     respect the TRY/END or BEGIN SEQUENCE/END control. Beware that
     if Error is thrown and a CATCH section of caller is activated
     execution will continue as if the DIVERT_RESUME flag was used.


Arguments:
----------

   <pFunctionPointer>|<pMessagePointer>
      Pointer to the Function or Method to divert to. This pointer
      can be retrieved by means of the address of (@) operator, or
      the HB_FuncPtr() function.

   <nDivertFlags>
      Optional Numeric value used to control optional behaviour of
      the DIVERT statement. Valid values are defined in
      include\divert.ch as:

      DIVERT_NONE

         Same as not specifiying any value.


      DIVERT_IGNORE_SIGNATURE

         If this flag is not explictly specified, the default
         behaviour of DIVERT is verify that DIVERT callee utilises
         the exact same number of formal parameters as its caller.
         If formal paramaters are not identical, and this flag is
         not specified, an error will be raised.


      DIVERT_RESUME

         Indicates that the program should resume at next line
         when the DIVERT worker terminates. This option is thus
         similiar to normal Function Call, in that the execution
         will continue at the next line once the callee terminates.

         If this flag is not explictly specified, the default
         behaviour of DIVERT is to relinquish control to the callee,
         as if the next line was a RETURN statement. In such case
         the RETURN value will be the RETURN value of the callee.


      DIVERT_RESET_LOCALS

         Forces a cleanup of caller's Locals prior to activation
         of the callee. Beware that this flag does not change the
         fact that any subsequent changes to the respective Local
         of callee are directly manipulating the parent's
         Local.


   <oNewSelfOrNil>
      Optional argument to specify the object used as the Self object
      if the DIVERT callee is a Method or NIL to force a Function context.
      Commonly this may be one of the SUPER objects of the curret Self,
      when diverting to a Super Method is desired.


  * include/hbxvm.h
  * source/vm/hvm.c
    + Added HB_P_DIVERT, and HB_P_DIVERTOF to support above syntax

  * include/hboo.ch
    + Added #define HB_OO_DATA_SYMBOL_PTR   2
  * include/hbclass.ch
  * source/rtl/tclass.prg
    % Optimized class constructor to use new DIVERT syntax. This should make
      applications which make heavy use of SomeClass( SomeParams ... )
      significantly faster. This change may be disabled by using:

        -DHB_CONSTRUCTOR_NO_DIVERT

  * source/rtl/traceprg.prg
    * Removed LOCALs to make it DIVERT_RESUME friendly.

/*
  NOTE: I tested these changes with FWH, VXH, etc. without any problems
  but due to the very low level nature of the change I'll appreciate input
  of any unexpected behaviour.
 */

2007-12-05 13.35 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * source/compiler/hbusage.c
    + info on -p[t][o<path>] switch

2007-12-05 06.10 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * source/ct/token1.c
    ! resolve name conflict in GCC/DARWIN

2007-12-05 01:52 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * make_gnu.sh
  * make_xmingw.sh
    ! Fixed architecture detection under new MSYS. Improved syntax
      message. (Borrowed from Harbour)
  * source/debug/dbgbrwsr.prg
  * source/debug/dbghelp.prg
  * source/debug/dbgtarr.prg
  * source/debug/dbgthsh.prg
  * source/debug/dbgtobj.prg
  * source/debug/dbgwa.prg
  * source/debug/debugger.prg
    ! Added an minimalistic TBrowse implementation that is just enough
      for internal use by the debugger. Fixes miscellaneous problems e.g.
      when debugging a piece of code with RELATIONs turned on.

2007-12-04 21.50 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
   * source/compiler/harbour.c
   * source/compiler/cmdcheck.c
     ! minor correction on my recent changes.

2007-12-04 13.15 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
   * source/compiler/harbour.c
   * source/compiler/cmdcheck.c
   * include/hbcomp.h
     ! enable generation of .ppo/.ppt files in other path.
       Syntax : harbour my.prg -poc:\temp\
                harbour my.prg -ptoc:\temp\
       NOTE:
       * Please observe path naming, it should be "c:\temp\" not just "c:\temp"
       * Do not mention ppo/ppt file name, just path

2007-12-03 22:20 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/tbrowse.prg
    ! fixed bug reported by xHB bug reporter at number 20071128-001.
    ( RefreshallForceStable change the current record ). Moved ::nLastRow
    var from InitCache() and fixed ::nLastRow from dbSkip() method.
    Cleaned refreshall() method.

2007-12-02 19:09 UTC-0600 Vicente Guerra <vicente@guerra.com.mx>
  * source/vm/arrays.c
    ! Fixed how many items must be allocated for small arrays.

2007-12-02 16:32 UTC-0600 Vicente Guerra <vicente@guerra.com.mx>
  * source/vm/arrays.c
    * Optimized array resize:
      . Grows 10% more on each buffer resize.
      . Buffer is reduced when it downs to 50% of the allocated.

2007-12-02 07.00 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * source/rtl/direct.c
    ! clear no longer used HB_ITEMs.

2007-12-02 05.15 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * source/ct/token1.c
  * source/ct/pos1.c
    ! do not directly access hb_cdp_page

  * contrib/libnf/tempfile.prg
    ! use native xHarbour routine to create temp file, thus eliminate
      dependence on NTOC() of CT.LIB

  * include/hbapigt.h
  * source/rtl/inkey.c
  * source/rtl/gtnul/gtnul.c
    ! exporting hb_inkey, hb_gt_SetAttribute, hb_gt_info

  * include/hbmath.h
  * source/rtl/math.c
    ! exporting hb_mathResetError, hb_mathIsMathErr and hb_mathGetLastError

2007-11-29 11:21 UTC+0800 Pritpal Bedi <pritpal@vouchcac.com>
  * contrib/wvtgui/wvtutils.c
    ! Fixed a type in HB_FUNC( WVT__GETSAVEFILENAME ).

2007-11-29 18.15 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * include/clipdefs.h
    ! BCC and OpenWatcom also do not want WORD/WORDP/PWORD redefined here.

  * include/hbvmpub.h
    ! define NDEBUG if not yet defined

2007-11-29 14.30 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * source/rtl/regex.c
    ! fix memory leaks on function hb_regex()

  * source/rtl/direct.c
    ! add 2 "funny" dummy lines for __DMC__ because without these lines __DMC__
      will GPF running tests/dirtest4.prg (DMC 8.50.4 was in use)
      NOTE: This is really not funny but the fact is it. These lines will be
      	    deleted when next version of __DMC__ can survive without it.
            BCC/MSVC/GCC/WC/XCC/POCC are OK, so my conclusion is, it is DMC bug.
    % minor formatting

2007-11-28 06.20 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * source/rtl/pcre/config.h
  * source/rtl/pcre/config.h.generic
  * source/rtl/pcre/pcre.h
  * source/rtl/pcre/pcre.h.generic
  * source/rtl/pcre/pcreposix.c
  * source/rtl/pcre/pcreposix.h
  * source/rtl/pcre/pcre_chartables.c
  * source/rtl/pcre/pcre_chartables.c.dist
  * source/rtl/pcre/pcre_compile.c
  * source/rtl/pcre/pcre_config.c
  * source/rtl/pcre/pcre_dfa_exec.c
  * source/rtl/pcre/pcre_exec.c
  * source/rtl/pcre/pcre_fullinfo.c
  * source/rtl/pcre/pcre_get.c
  * source/rtl/pcre/pcre_globals.c
  * source/rtl/pcre/pcre_info.c
  * source/rtl/pcre/pcre_internal.h
  * source/rtl/pcre/pcre_maketables.c
  * source/rtl/pcre/pcre_newline.c
  * source/rtl/pcre/pcre_ord2utf8.c
  * source/rtl/pcre/pcre_printint.src
  * source/rtl/pcre/pcre_refcount.c
  * source/rtl/pcre/pcre_scanner.h
  * source/rtl/pcre/pcre_study.c
  * source/rtl/pcre/pcre_tables.c
  * source/rtl/pcre/pcre_try_flipped.c
  * source/rtl/pcre/pcre_ucp_searchfuncs.c
  * source/rtl/pcre/pcre_valid_utf8.c
  * source/rtl/pcre/pcre_version.c
  * source/rtl/pcre/pcre_xclass.c
  * source/rtl/pcre/ucp.h
  * source/rtl/pcre/ucpinternal.h
  * source/rtl/pcre/ucptable.h
    ! updated to version 7.4

2007-11-27 18.40 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * source/pp/ppcore.c
    ! fix wrong castings (should be unsugned char, was int) - Thanks Przemek.

2007-11-27 19:41 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * contrib\rdd_ads\ads1.c
    * Reinstated commented HB_ADS_SET_INIT()
      /* Can anyone please explain why was it commented? */
  * contrib\rdd_ads\adsexternal.ch
    * Commented ADSDDSETTABLEPROPERTY /* Where is such function? */
    * Added default definition #define ADS_REQUIRE_VERSION 8
  * contrib\rdd_ads\ads.ch
    * Added REQUEST ADS
  * include\hbextern.ch
    * Corrected relative path to ADS #includes
  * utils\xbscript\xbscript.prg
    * EXTERN -> REQUEST
  * hrbdll.vc
    * Corrected support for new trapkey.prg

2007-11-27 12:13 UTC+0800 Pritpal Bedi <pritpal@vouchcac.com>
  * source/rtl/gtwvt/gtwvt.h
    - Removed: void HB_EXPORT hb_wvt_gtaSetInvalidRect();.

2007-11-27 13.10 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * source/rtl/pcre/pcre_internal.h
    ! minor fix

2007-11-27 12.15 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * include/hbexprc.c
    ! initialize vars before use (GCC)

  * contrib/wvtgui/wvtutils.c
    ! initialize vars before use (GCC)

  * contrib/wvtgui/wvtcore.c
    ! initialize vars before use (GCC)
    ! fixed GCC warning (deferencing type-punned)

  * source/pp/ppcore.c
    ! casting (GCC)

  * source/rtl/win32ole.prg
    ! intialize var before use (GCC)
    ! fixed GCC warning (deferencing type-punned)

  * source/rtl/pcre/config.h
  * source/rtl/pcre/config.h.generic
  * source/rtl/pcre/pcre.h
  * source/rtl/pcre/pcre.h.generic
  * source/rtl/pcre/pcreposix.c
  * source/rtl/pcre/pcreposix.h
  * source/rtl/pcre/pcre_chartables.c
  * source/rtl/pcre/pcre_chartables.c.dist
  * source/rtl/pcre/pcre_compile.c
  * source/rtl/pcre/pcre_config.c
  * source/rtl/pcre/pcre_dfa_exec.c
  * source/rtl/pcre/pcre_exec.c
  * source/rtl/pcre/pcre_fullinfo.c
  * source/rtl/pcre/pcre_get.c
  * source/rtl/pcre/pcre_globals.c
  * source/rtl/pcre/pcre_info.c
  * source/rtl/pcre/pcre_internal.h
  * source/rtl/pcre/pcre_maketables.c
  * source/rtl/pcre/pcre_newline.c
  * source/rtl/pcre/pcre_ord2utf8.c
  * source/rtl/pcre/pcre_printint.src
  * source/rtl/pcre/pcre_refcount.c
  * source/rtl/pcre/pcre_scanner.h
  * source/rtl/pcre/pcre_study.c
  * source/rtl/pcre/pcre_tables.c
  * source/rtl/pcre/pcre_try_flipped.c
  * source/rtl/pcre/pcre_ucp_searchfuncs.c
  * source/rtl/pcre/pcre_valid_utf8.c
  * source/rtl/pcre/pcre_version.c
  * source/rtl/pcre/pcre_xclass.c
  * source/rtl/pcre/ucp.h
  * source/rtl/pcre/ucpinternal.h
  * source/rtl/pcre/ucptable.h
    ! updated to version 7.3

2007-11-27 07.30 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * source/vm/runner.c
    ! casting

  * source/rtl/gtwin/gtwin.c
    ! define MOUSE_WHEELED if not defined (DMC)

  * contrib/rdd_ads/ace.h
    ! fix compilation for OpenWatcom

  * source/rtl/win32ole.prg
    ! fix compilation for OpenWatcom (but still not working)

  * contrib/gtwvw/gtwvw.c
    ! MSVC6/DMC does not have Get/SetWindowLongPtr, use Get/SetWindowLong
    ! castings
    ! initialize some var before use (GCC)
    ! modify switch without case
    ! commented some unused vars

2007-11-26 20:00 UTC+0200 Pavel Tsarenko <tpe2/at/mail.ru>
  * source/rtl/copyfile.c
    * save file date, time, and attribute for win32 platform in the
    __CopyFile() function
  * source/ct/files.c
    * handling first parameter in FileAttr()
    * formatting

2007-11-25 11:18 UTC+0800 Pritpal Bedi <pritpal@vouchcac.com>
  * source/rtl/gtwvt/gtwvt.c
    + Reintroduced WM_TIMER callback.
    * Introduced hack to support code being executed in WM_TIMER callback.
      Someone please port Harbour's hb_vmRequestReenter()* protocol in xHarbour
      as Przem has strongly pointed out this anomaly.
    + Added another callback WVT_KEY which is triggered when some key is placed in input queue.
  * source/rtl/gtwvt/gtwvt.c
    + Added PHB_DYNS  pSymWVT_KEY member to GLOBAL_DATA structure.
  * contrib/wvtgui/wvtclass.prg
    * ::Sunper():New() => ::Super:New()
  * contrib/wvtgui/wvtutils.c
    ! Changed Wvt_SetTimer( nTimeSlice ) => Wvt_SetTimer( nTimerId, nTimeSlice )
    ! Changed Wvt_KillTimer() => Wvt_KillTimer( nTimerId )

2007-11-23 20:00 UTC+0200 Pavel Tsarenko <tpe2/at/mail.ru>
  + source/ct/ctrand.prg
    + added CT3 RANDOM(), RAND() functions
  + source/ct/trapkey.prg
    + added CT3 TRAPINPUT(), TRAPSHIFT(), INKEYTRAP() functions
  + source/ct/envparam.c
    + added CT3 ENVPARAM() function
  + source/ct/intneg.c
    + added CT3 INTNEG(), INTPOS() function
  * source/ct/getinfo.prg
    + added CT3 GETINPUT() function
  * source/ct/ctmict.prg
    + added CT3 SETRC() function
  * source/ct/Makefile
  * hrbdll.bc
  * hrbdll.dc
  * hrbdll.gc
  * hrbdll.pc
  * hrbdll.vc
  * hrbdll.wc
  * makefile.bc
  * makefile.dc
  * makefile.gc
  * makefile.pc
  * makefile.vc
  * makefile.wc
    * added ct functions

2007-11-21 08:50 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/rtl/gtapi.c
    ! Memory leak exposed by last commit

2007-11-20 17:45 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * bin/bld.bat
    * Minor GTGUI/GTNUL support
  * tests/bldtest.bat
    ! Protected BCC32 specific setting by IF %HB_COMPILER%.==bcc32.
      /* BCC users please remeber that this is a GENERIC batch file. */
    + Added support for /GUI /NUL and /FWH
    * Minor refinment to cleanup and error detection, and retain tds files.

  * source/rtl/gtapi.c
    ! Fixed multiple GPF traps.
      /* I'   * not using this code, I believe that it should be carefuly reviewed by someone using it. */

2007-11-20 17:48 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * source\rdd\bmdbfcdx\bmdbfcdx1.c
  * source\rdd\dbfcdx\dbfcdx1.c
  * source\rdd\dbfntx\dbfntx1.c
    * use hb_cdpSelect() instead of direct accessing hb_cdp_page variable synced with harbour.

2007-11-20 09:44 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * source\rdd\dbf1.c
    ! fixed flags on clipper DBF that don't support it. By the moment are only supported at VFP DBF.
  * source\rtl\hbhex2n.c
    ! fixed HEXTONUM when string of len 0 arrive. (Fixed by Juan Galvez)

2007-11-14 16:00 UTC-0300 Luiz Rafael Culik Guimaraes <luiz at xharbour.com.br>
  ! source/rtl/listbox.prg
    ! fixed bug on listbox function to default ldrop to .f. , reported on xharbour news by Bill  Robertson

2007-11-14 13:10 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/codepage/cpeldos.c
  * source/codepage/cpelwin.c
    ! updated accent marker upper letters to be the same as in lower ones
      Greek users should fix me.
  * source/rtl/cdpapi.c
    ! do not use '~' as accented character marker if neither ACCENTED_EQUAL
      nor ACCENTED_INTERLEAVED is set - in some CPs '~' is a letter
    ! use '~' as accented character marker only if it exists in UPPER and
      LOWER letter sets - our CP code cannot properly decode letter sets
      when this condition is not true - it should be fixed (TOFIX)
    ! use '.' as multibyte character marker only if it exists in UPPER and
      LOWER letter sets - our CP code cannot properly decode letter sets
      when this condition is not true - it should be fixed (TOFIX)
    Fixes by Przemyslaw Czerpak, borrowed from Harbour.


2007-11-14 00:30 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/codepage/cpesmwin.c
    * Use HB_CODEPAGE_INIT().
  * source/rtl/cdpapi.c
    ! Fixed uppercase/lowercase table creation in hb_cdpRegister.
  * source/rtl/strcase.c
    * Use casting to BYTE instead of ANDing with 255 consistently.

2007-11-13 17:15 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
    * hrbdll.bc
    * hrbdll.vc
    * makefile.bc
    * makefile.vc
      * Synched codepage/unicode sources

2007-11-13 01:50 UTC-0300 Luiz Rafael Culik Guimaraes <luiz at xharbour.com.br>
  ! source/lang/msgnl.c
     ! fixes to code

2007-11-12 23:33 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * hrbdll.vc
  * makefile.vc
  * include/hbextern.ch
  * utils/xbscript/xbscript.prg
    * Synched with recent codepage/unicode additions

2007-11-12 06:25 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/rtl/win32prn.prg
    * Type case

2007-11-11 01:00 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * make_xmingw.sh
    ! Fixed cross-compilation of MinGW32 target on FreeBSD host.

2007-11-10 21:20 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/rtl/disksphb.c
  * source/rtl/seconds.c
    ! Fix compilation on HB_OS_BSD.

2007-11-10 23:30 UTC+0700 Budyanto Dj. <budyanto@centrin.net.id>
  * source/rtl/win32prn.prg
    % Added ::AskProperties
      If it is assigned .t. prior to calling ::Create(), a DocumentProperties dialog will be displayed.
      Example:
      oPrinter:= Win32Prn():New(cPrinter)
      oPrinter:Landscape:= .t.
      oPrinter:AskProperties := .t.
      IF !oPrinter:Create()
         ...

      NOTES:
      For unknown reasons, Windows98/ME returns IDCANCEL if user clicks OK without changing anything in DocumentProperties.
      Therefore, we ignore the return value in Win9x, and assume user clicks OK.
      IOW, DocumentProperties is not cancelable in Win9X.

    % Added support for Custom Forms (by Peter Rees)
      Changed use of ::FormType - if set to a string instead of a form number
      it will set the form of that name. It's not supported on Win9X

      e.g. oPrinter:Formtype:= "Custom"

      Added ::PaperLength & ::PaperWidth to allow setting of custom paper
      sizes without having to predefine the custom form. Both ::PaperLength &
      ::PaperWidth must be set i.e. neither can be 0

2007-11-10 08:00 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/tget.prg
    ! fixed ParsePict() method to toggle mask to uppercase only if the
      character is a template character like "ALNXY". Bug reported on
      the comp.lang.xharbour news.

2007-11-09 23:13 UTC-0600 Vicente Guerra <vicente@guerra.com.mx>
  * ./makefile.bc
  * ./hrbdll.bc
    ! Fixed compilation for new changes.

2007-11-09 22:36 UTC-0600 Vicente Guerra <vicente@guerra.com.mx>
  * ./dll_pc.bat
  * ./make_pc.bat
    * BISON_SIMPLE and CC_HRB environment variables will not be cleared.
      They would be part of the user's environment.
  * ./hrbdll.pc
  * ./makefile.pc
    ! Fixed compilation for new changes.

2007-11-08 02:30 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * include/hbapicdp.h
  * include/hbextern.ch
  * source/codepage/Makefile
  * source/codepage/cp_tpl.c
  * source/codepage/cpbgmik.c
  * source/codepage/cpbgwin.c
  * source/codepage/cpcskam.c
  * source/codepage/cpeldos.c
  * source/codepage/cpelwin.c
  * source/codepage/cpesdos.c
  * source/codepage/cpesmwin.c
  * source/codepage/cpeswin.c
  * source/codepage/cpfrdos.c
  * source/codepage/cpgedos.c
  * source/codepage/cpgewin.c
  * source/codepage/cphr1250.c
  * source/codepage/cphr437.c
  * source/codepage/cphr852.c
  * source/codepage/cphu852.c
  * source/codepage/cphuwin.c
  * source/codepage/cpit437.c
  * source/codepage/cpit850.c
  * source/codepage/cpitisb.c
  * source/codepage/cpitiso.c
  * source/codepage/cpltwin.c
  * source/codepage/cppl852.c
  * source/codepage/cppliso.c
  * source/codepage/cpplmaz.c
  * source/codepage/cpplwin.c
  * source/codepage/cppt850.c
  * source/codepage/cpptiso.c
  * source/codepage/cpru866.c
  * source/codepage/cprukoi.c
  * source/codepage/cpruwin.c
  * source/codepage/cpsl852.c
  * source/codepage/cpsliso.c
  * source/codepage/cpslwin.c
  * source/codepage/cpsrwin.c
  * source/codepage/cpsv850.c
  * source/codepage/cpsvclip.c
* source/codepage/cpruwin.c
  * source/codepage/cpsl852.c
  * source/codepage/cpsliso.c
  * source/codepage/cpslwin.c
  * source/codepage/cpsrwin.c
  * source/codepage/cpsv850.c
  * source/codepage/cpsvclip.c
  * source/codepage/cpsvwin.c
  * source/codepage/cptrdos.c
  * source/codepage/cptrwin.c
  * source/codepage/cpua866.c
  * source/codepage/cpuakoi.c
  * source/codepage/cpuawin.c
  * source/codepage/uc1250.c
  * source/codepage/uc1251.c
  * source/codepage/uc1253.c
  * source/codepage/uc1254.c
  * source/codepage/uc1257.c
  * source/codepage/uc737.c
  * source/codepage/uc850.c
  * source/codepage/uc852.c
  * source/codepage/uc857.c
  * source/codepage/uc866.c
  * source/codepage/uc88591b.c
  * source/codepage/uc8859_1.c
  * source/codepage/uc8859_2.c
  * source/codepage/uc8859_5.c
  * source/codepage/uckam.c
  * source/codepage/uckoi8.c
  * source/codepage/uckoi8u.c
  * source/codepage/ucmaz.c
  * source/codepage/ucmik.c
  * source/rtl/cdpapi.c
  * utils/hbrun/Makefile
  * utils/xbscript/Makefile
    * updated unicode tables for codes 0-31 to point at DOS characters
    * changed accented character handling and multibyte character
      comparison to make some operations like:
         dbSeek(cVal)
         while ordKeyVal() = cVal
            ...
         enddo
      safe also with such CDPs
    ! Synced HU WIN and HU ISO codepage lower/uppercase
      strings with HU 852, so that hb_Translate() works
      properly. (this means there are now several duplicate
      chars included in the WIN/ISO versions, along with
      a non-HU char, all just needed to stay compatible with
      original CA-Cl*pper HU/852 index ordering and keep
      hb_Translate() working at the same time.)
      IMO, we'd need to introduce a separate "collation"
      string in each cp file to detach index ordering
      from upper/lowercase and codepage translation without
      any hacks, since as this example shows these two
      are not always in sync. (or, as an alternative we might
      want to make codepage translation more sophisticated,
      like converting first to unicode and convert back to
      the other codepage from unicode, but that leads a bit
      further.). (If I'   * missing something, pls don't hesitate
      to clarify)
    + Added SixDriver compatible HU ISO/WIN codepage files
      for the reasons described above.
    ! #define namespace issue in public API header file
      corrected:
      CPID_* -> HB_CPID_*
      UNITB_* -> HB_UNITB_*
    Almost everything synced with Harbour changes by Viktor Szakats and
    Przemyslaw Czerpak except where xHarbour had better codepage coverage.
  + source/codepage/cpbg866.c
  + source/codepage/cpbgiso.c
  + source/codepage/cpcs852.c
  + source/codepage/cpcsiso.c
  + source/codepage/cpcswin.c
  + source/codepage/cphu852s.c
  + source/codepage/cphuiso.c
  + source/codepage/cphuisos.c
  + source/codepage/cphuwins.c
  + source/codepage/cpsk852.c
  + source/codepage/cpskiso.c
  + source/codepage/cpskkam.c
  + source/codepage/cpskwin.c
  + source/codepage/cpsl437.c
    + Added new codepages from Harbour.

2007-11-07 23:18 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/vm/dbgentry.c
    * changed the name of global static variable from 'info' to
      's_pInfo' to avoid possible typos - fix by Przemyslaw Czerpak,
      borrowed from Harbour.

2007-11-05 06:25 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * contrib/rdd_ads/ads1.c
    * Typos

2007-11-04 12:22 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * hrbdll.vc
    * Fixed typos

2007-11-01 10:09 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * include/hbver.h
    * Changed CVS HEAD version number to 1.1.0.

2007-10-31 17:12 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>

  * source\rdd\usrrdd\rdds\vfpcdx.c
    ! fixed warning W0006 Procedure returns value
  * source\rdd\dbf1.c
    ! fixed warning Mixing pointers to different 'char' types in function hb_dbfCreate
  * include\hbapi.h
  * include\hbapigt.h
  * source\rtl\gtapi.c
    ! fixed warning Suspicious pointer conversion in function hb_conSetColor

2007-10-31 11:44 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>

  * source\ct\disk.c
    * corrected VolSerial because it was returning a decimal value now return a longlong value.

  * source\rtl\disksphb.c
    + Added functionality now HB_DISKSPACE support unc paths.
    synced with harbour

2007-10-31 13:30 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * include/hbver.h
    ! Fixed "no newline at end of file" warning.
  * source/debug/dbgthsh.prg
  * source/debug/dbgtobj.prg
    ! Fixed a nasty RTE when monitoring hashes in the debugger.

2007-10-31 10:00 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>

  * source\rtl\cdpapi.c
  * source\rtl\seconds.c
  * source\rtl\setcolor.c
  * source\rtl\win32ole.prg
  * include\hbapicdp.h
    * changed some parameters to const.
    + added hb_cdpGetChar()

  * source/compiler/harbour.sly
    - removed some warnings

  * source/macro/macro.y
    - removed warnings compiling under BCC and watcom

  * source/rdd/workarea.c
    * initialize uiFlags also when DBS_FLAGS is not set

  * source/rdd/bmdbfcdx/bmdbfcdx1.c
    * fixed hb_cdxSkipFilter() declaration - it should be 'static' function

  * include/hbapi.h
  * source/vm/itemapi.c
  * source/vm/fastitem.c
  * source/vm/garbage.c
    + added extended item references - it's universal reference which
      can be used by HVM for many different things without introducing
      new item types

  * source/rdd/dbf1.c
    + Initialized counter value on ZAP for auto incremental fields.
    + loaded field _NullFlags as hidden and the rest of flags when it exists.

  * source/rdd/dbf1.c
  * source/rdd/usrrdd/usrrdd.c
    * use hb_vmPushItemRef()

  * include/hbapirdd.h
  * source/rdd/dbcmd.c
  * source/rdd/workarea.c
  * source/rdd/dbf1.c
  * source/rdd/dbffpt/dbffpt1.c
  * source/rdd/dbfcdx/dbfcdx1.c
  * source/rdd/bmdbfcdx/bmdbfcdx1.c
  * source/rdd/dbfdbt/dbfdbt1.c
  * source/rdd/usrrdd/usrrdd.c
  * contrib/rdd_ads/ads1.c
    * changed second parameter in RELTEXT() method to PHB_ITEM
      Now RELTEXT() works like FILTERTEXT() and the size of
      expression is not limited. It's a modification I wanted
      to make for a long time and I think that now is a good
      moment to make it together with HB_FT_* modifications
    - rmoved not longer necessary HARBOUR_MAX_RDD_RELTEXT_LENGTH
    + Added capabilitie to read memo fields with OLE object as string.

  * source/rdd/wacore.c
  * source/rdd/dbcmd.c
    ! fixed registering workareas with numbers from 65280 to 65534

  * include/dbinfo.ch
  * contrib/rdd_ads/ads1.c
  * source/rdd/workarea.c
  * source/rdd/delim1.c
  * source/rdd/dbf1.c
  * source/rdd/sdf1.c
    + added support for DBI_POSITIONED flag. Because some RDDs may not
      support phantom record then checking for EOF() does not have to
      be enough to detect that the cursor is positioned to phantom
      record. Checking for RecNo() == LastRec() + 1 does not have to
      work either because some RDD may use not use continuous record
      numbers f.e. ADT. So in code like BROWSE() if you want to be sure
      that current record is phantom one then (!dbInfo(DBI_POSITIONED))
      should be used.

  * harbour/source/vm/hvm.c
    * formatting
    ! fixed hb_vmPushLogical protected against values greater than 1.
      it was failing: "TV" $ {"TT","TV"} == .T.

  * source/rdd/wafunc.c
    ! fixed typo which broke array returned by dbStrunct()

  * include/dbinfo.ch
    + added DBI_ENCRYPT, DBI_DECRYPT, DBI_MEMOPACK, DBI_DIRTYREAD
    + added DBOI_INDEXTYPE, DBOI_USECURRENT
    + added RDDI_LOCKRETRY, RDDI_DIRTYREAD

  * include/dbinfo.ch
  * include/hbrdddbf.h
  * include/hbrddfpt.h
  * include/hbrddcdx.h
  * include/hbrddntx.h
  * source/rdd/dbf1.c
  * source/rdd/dbffpt/dbffpt1.c
  * source/rdd/dbfntx/dbfntx1.c
  * source/rdd/dbfcdx/dbfcdx1.c
  * source/rdd/bmdbfcdx/bmdbfcdx1.c
    + added support for MEMOPACK, table ENCRYPT/DECRYPT, index DIRTYREAD

  * include/hbapirdd.h
  * include/dbstruct.ch
  * include/hbusrrdd.ch
  * contrib/rdd_ads/ads1.c
  * contrib/rdd_ads/ace.h
  * source/rdd/dbfdbt/dbfdbt1.c
  * source/rdd/dbffpt/dbffpt1.c
  * source/rdd/dbcmd.c
  * source/rdd/wafunc.c
  * source/rdd/workarea.c
  * source/rdd/dbf1.c
  * source/rdd/sdf1.c
  * source/rdd/delim1.c
    * changed HB_IT_* as field type to HB_FT_*
    + added field flags HB_FF_*
    + added support for new field types to core code
    + added FIELDFLAG( <nField> ) and FIELDSTEP( <nField> )
    + added DBFIELDINFO( DBS_STEP, <nField> )

  * harbour/source/rdd/dbf1.c
    + added support for AUTOINC (+), ROWVERSION (^), TIME (T- len 4)
      and MODTIME (=) fields
      reamins DATETIME for (T - len 8)

  * contrib/rdd_ads/ads1.c
  * contrib/rdd_ads/ace.h
    + added support for ROWVERSION (^), and MODTIME (=) fields

  * harbour/source/rdd/dbcmd.c
    ! fixed bug in dbSkipper()

  + include/hbsix.ch
  * hrbdll.dc
  * hrbdll.gc
  * hrbdll.pc
  * hrbdll.vc
  * hrbdll.wc
  * makefile.bc
  * makefile.dc
  * makefile.gc
  * makefile.pc
  * makefile.vc
  * makefile.wc
  * source/rdd/hbsix/Makefile
  * source/rdd/hbsix/sxdate.c
  * source/rdd/hbsix/sxcompr.c
  * source/rdd/hbsix/sxcrypt.c
  + source/rdd/hbsix/sxsem.c
  + source/rdd/hbsix/sxord.c
  + source/rdd/hbsix/sxredir.c
  + source/rdd/hbsix/sxfname.c
  + source/rdd/hbsix/sxtable.c
  + source/rdd/hbsix/sxutil.c
  + source/rdd/hbsix/sxcompat.prg
  + source/rdd/hbsix/sxtrig.prg
  + source/rdd/hbsix/sxini.prg
  - source/rdd/hbsix/sxfunc.prg
    + added SIx3 compatible functions:
         RDD_Count(), RDD_Name(), RDD_Info(), SetRDD(),
         sxChar(), sxNum(), sxDate(), sxLog(),
         Sx_DToP(), Sx_PToD(),
         Sx_BLOB2File(), Sx_File2BLOB(),
         Sx_Compress(), Sx_Decompress(),
         Sx_FCompress(), Sx_FDecompress(),
         Sx_AutoOpen(), Sx_AutoShare(),
         Sx_MemoExt(), Sx_MemoBlk(), Sx_SetMemoBlock(), Sx_MemoPack(),
         Sx_SetTrigger(), Sx_SetTrig(), Sx_DefTrigger(),
         Sx_INIheader(), _sx_INIinit(), _sxOpenInit(),
         Sx_SetPass(),
         Sx_Encrypt(), Sx_Decrypt(), Sx_DBFdecrypt(), Sx_DBFencrypt(),
         sx_MakeSem(), sx_KillSem(), sx_IsSem(),
         Sx_ClrScope(), Sx_SetScope(),
         Sx_Freeze(), Sx_Warm(), Sx_Chill(), Sx_Thermometer(),
         Sx_IsReindex(), Sx_Step(), Sx_KeysIncluded(),
         Sx_I_IndexName(), Sx_I_TagName(),
         Sx_IndexCount(), Sx_IndexName(), Sx_IndexType(), Sx_IndexFilter(),
         Sx_ROXLock(), Sx_ROXUnLock(), Sx_IsMyROX(), Sx_IsROXLock(),
         Sx_KeyAdd(), Sx_KeyDrop(), Sx_KeyData(),
         Sx_KeySkip(), Sx_KeyCount(), Sx_KeyNo(), Sx_KeyGoto(),
         Sx_WildSeek(), Sx_WildMatch(),
         Sx_IsFLocked(), Sx_IsReadOnly(), Sx_IsShared(),
         Sx_IsLocked(), Sx_IsDBT(),
         Sx_IDtype(), Sx_TableType(), Sx_TableName(),
         Sx_SetTurbo(), Sx_TurboArea(), Sx_SetDirty(), Sx_DirtyArea(),
         Sx_RLock(), Sx_UnLock(), Sx_GetLocks(), Sx_LockRetry(),
         Sx_SeekLast(), Sx_FindRec(),
         Sx_SkipUnique(), Sx_TagUnique(),
         Sx_TagCount(), Sx_TagOrder(), Sx_TagNo(), Sx_TagName(),
         Sx_TagInfo(), Sx_Tags(),
         Sx_SetTag(), Sx_SetTagOrder(), Sx_SetTagNo(),
         Sx_KillTag(),
         Sx_FileOrder(), Sx_SetFileOrd(), Sx_ClearOrder(),
         Sx_VSigLen(), Sx_VFGet(),
         Sx_dbCreate(), Sx_StrxCheck(), Sx_Rollback(), Sx_SortOption(),
         _sxCondSet(),
         Sx_FNameParser(), Sx_SlimFast(),
         Sx_Version(), Sx_Error(),

    + added SIx3 compatible commands:
         SET DIRTYREAD ON|OFF
         USE ... [TRIGGER <cTrigger>] [PASSWORD <cPassword>]
         SORT ... USECURRENT
         WILDSEEK <str>
         WILDSEEKNEXT <str>
         CLEAR ORDER <order>
         SET TAGORDER TO [<order>]
         SET ORDER TO TAG <(tag)> [OF <(bag)>]
         SET TAG TO [<tag> [OF <(bag)>]]
         REINDEX OPTION <eval> [STEP <step>]
         DELETE TAG <(tag1)> [OF <(bag1)>] [, <(tagN)> [OF <(bagN)>]]
         DELETE TAG ALL [OF <(bag)>]
         CLEAR SCOPE
         SET SCOPETOP TO [<value>]
         SET SCOPEBOTTOM TO [<value>]
         SET SCOPE TO [<value>]
         SET TURBOREAD ON|OFF
         MEMOPACK [BLOCK <size>] [OPTION <opt> [STEP <step>]]
         SET MEMOBLOCK TO <value>
         SUBINDEX ON <key> TO <(file)> ;
               [OPTION <eval> [STEP <every>]] [FILTERON] [EMPTY]
         SUBINDEX ON <key> TAG <(tag)> [OF <(bag)>] [TO <(bag)>] ;
               [OPTION <eval> [STEP <every>]] [FILTERON] [EMPTY]
         INDEX ON <key> [TAG <(tag)>] TO <(bag)> ;
               [OPTION <eval> [STEP <every>]] [FILTERON] [EMPTY] [SUBINDEX]
         INDEX ON <key> TAG <(tag)> [OF <(bag)>] [TO <(bag)>] ;
               [OPTION <eval> [STEP <every>]] [FILTERON] [EMPTY] [SUBINDEX]

      Unlike Ads*() functions the Sx_*() ones can be used with any RDD
      and will work if RDD supports necessary functionality.

      The global settings in SIx3 are RDD dependent in Harbour, f.e.
      in SIx3 Sx_MemoExt() change MEMO file extensions in all SIX* RDDs
      but in Harbour only in default RDD driver.
      In Harbour default trigger function "Sx_DefTrigger" is not
      enabled by default. If user needs such functionality then he
      has to enable it himself using
         rddInfo( RDDI_TRIGGER, "SX_DEFTRIGGER", [<cRDD>] )
      f.e. this code:
         init procedure sx_inittrig()
            local aRDDs := { "DBF", "DBFNTX", "DBFCDX", "SIXCDX", ;
                             "RMDBFNTX", "RMDBFCDX", "BMDBFCDX", "BMSIXCDX" }
            local aRDDList := RddList(), cRdd

            for each cRdd in aRDDs
               if ascan( aRDDList, { |x| x == cRdd } ) != 0
                  rddInfo( RDDI_TRIGGER, "SX_DEFTRIGGER", cRDD )
               endif
            next
         return
      sets SX_DEFTRIGGER as default trigger in DBF* based RDDs.

      I still do not allow to encrypt tables with memo fields to not
      replicate SIx3 bugs which may cause data corruption.

   Synced with harbour as posible.

2007-10-30 02:10 UTC+0100 Patrick Mast <patrick/dot/mast/at/xharbour.com>
  * include/hbver.h
  * bin/pack_bin.bat
  * bin/pack_src.bat
    * Increased to 1.00.00

2007-10-30 01:30 UTC+0100 Patrick Mast <patrick/dot/mast/at/xharbour.com>
  * xharbour/xharbour.spec
    * changed version number to 1.00.00

2007-10-27 14:10 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/compiler/genc.c
  * source/vm/hvm.c
    ! Commented out broken module space logic.

2007-10-26 21:15 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/transfrm.c
    ! fixed errors reported by hbtest like transform( -7, "@X 9999") and
      transform( stod("19920509"), "@E" ).

2007-10-26 00:37 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/compiler/harbour.sly
    ! Fixed compiler segfault when generating debug info after a
      "Misplaced GLOBAL declaration" error.

2007-10-24 11:40 UTC-0300 Luiz Rafael Culik Guimaraes <luiz at xharbour.com.br>
  * source/rdd/nulsys/nulsys.c
    ! Added DBfilter function

2007-10-24 10:10 UTC-0300 Luiz Rafael Culik Guimaraes <luiz at xharbour.com.br>
  * source/rtl/errorsys.prg
    ! minor fix on Open work area logs

2007-10-24 08:50 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/ct/diskutil.prg
    ! added a workaround on DiskFree(), DiskTotal() and DiskUsed() functions
      to save/restore the current full path before/after calls them.
      Note: As these functions calls hb_diskspace() from source\rtl\disksphb.c
      source, maybe someone could take a look on it.
      Bug reported from comp.lang.xharbour news.

2007-10-23 20:50 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/tbrowse.prg
    ! changed IsBottom() function as suggested by Ken Wantz to fix a bad
      behaviour of databases under custom indexes.
    ! fixed IsDb() function to scan max workareas to 65534, because 65535 is
      reserved.

2007-10-23 13:50 UTC-0300 Luiz Rafael Culik Guimaraes <luiz at xharbour.com.br>
   * source\tip\sendmail.prg
     ! minor fix when sending multiples attachments

2007-10-23 11:50 UTC-0300 Luiz Rafael Culik Guimaraes <luiz at xharbour.com.br>
  * config/hpux/dir.cf
    config/hpux/gcc.cf
    config/hpux/global.cf
    config/hpux/install.cf
    ! updated to proper compile on hpux and generate mt libs
  * utils/hbmake/hbmake.prg
    utils/hbmake/hbmutils.prg
    ! changes to work on hpux
    All changes provided by Sandro R. Freire


2007-10-23 01:46 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/debug/dbgtobj.prg
    ! Fixed an RTE when browsing subarrays in object monitor.

2007-10-20 08:30 UTC-0800 Pritpal Bedi <pritpal@vouchcac.com>
  * source/rtl/gtwvt/gtwvt.c
    ! Missing type declaration.

2007-10-20 00:20 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/tbrowse.prg
    ! fixed IsDb() function to scan all workareas.
    ! refixed colorrect() behaviour after PageUp().

2007-10-19 13:00 UTC-0800 Pritpal Bedi <pritpal@vouchcac.com>
  * contrib/wvtgui/wvtutil.c
    ! Bug fix in Wvt_SaveFileName() and Wvt_OpenFileName()
  * source/rtl/gtwvt/gtwvt.c
    * Released time-slice after 100 iterations. Adopted from GTWIN.
    * Functionality to open window shifted from hb_wvt_gtCreateWindow() to hb_gtInit().

2007-10-19 11:10 UTC-0300 Luiz Rafael Culik Guimaraes <luiz at xharbour.com.br>
   * source\tip\sendmail.prg
     ! minor fix when sending html emails

2007-10-19 10:40 UTC-0300 Luiz Rafael Culik Guimaraes <luiz at xharbour.com.br>
   !source/lang/msgnl.c
     ! Fixed problem on lang registration(was missing on source)

2007-10-18 11:10 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/tbrowse.prg
    ! reverted changes on SetColorRect(), DispCell() and FillRow() methods.
    ! fixed IsDb() static function.

2007-10-17 06:10 UTC-0300 Luiz Rafael Culik Guimaraes <luiz at xharbour.com.br>
   !source/rtl/gtwin/gtwin.c
     ! Added missing support for  mouse_wheel events

2007-10-11 22:00 UTC-0300 Luiz Rafael Culik Guimaraes <luiz at xharbour.com.br>
   !source/ct/files.c
     !Fixed bug to filesize error that was retuning incorrect values for file with >2GB

2007-10-04 08:45 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/tbrowse.prg
    ! reverted PageUp() method and changed SetColorRect(), DispCell()
      and FillRow() methods to fix colorrect behaviour after page-up.

2007-10-02 13:30 UTC-0300 Luiz Rafael Culik Guimaraes <luiz at xharbour.com.br>
  * bin/pack_src.sh
    ! added missing file to pcre for properly compile

2007-10-01 19:34 UTC+0200 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>
  * source/vm/hvm.c
    * Commented out unuseful assignment hSymScope &= ~HB_FS_LOCAL in function hb_vmRegisterSymbols()

2007-10-01 10:15 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/tbrowse.prg
    ! fixed PageUp() method that in any circustancies doesn't diplay
      the color defined in colorrect() method. Bug reported by a user directly.

2007-09-30 22:50 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/tgetlist.prg
    ! fixed run-time error at line 571 as reported in xharbour dev-list.
      Added "if oGet:ExitState != NIL ...".

2007-09-28 15:37 UTC-0800 Luis Krause Mantilla <lkrausem /*at*/ shaw /*dot*/ ca>
  * hrbdll.bc
    + added sxfunc.prg

2007-09-27 08:05 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * makefile.pc
    ! minor fix to avoid "Rules must follows target" message after last commit.

  * hrbdll.pc
    + added new sxfunc.prg.

  * source/rtl/teditor.prg
    * reverted Text2Array() function to sync with old __StrTkPtr() function.

  * source/rtl/tget.prg
    * minor fix on display() method to hide "CR" after type 0 in a numeric
      get with "@C" picture.

  * source/rtl/tgetlist.prg
    * created HB_GetList:lInvalid property to control postblock return.
      The old one <lDelEnd> variable is needless by now.
    ! fixed get value and adjust buffer content when postblock returns false.
      bug reported by Vicente Guerra.
    * toggle cursor shape at insert mode on/off.
      note: By default, this code is commented into GetApplyKey() method.
            if you want this behaviour, uncomment them.
    * changed GetApplyKey() to deny type minus sign more than once time when
      get type is numeric.

  * utils/hbmake/tmake.prg
    + added cUserLib and cEditor datas.

  * utils/hbmake/hbmake.prg
    * hbmake version 1.20
    + created get for user lib path for libs that are on other place than xharbour/lib folder.
      it's need inform full path.
    + created listbox for user errorlog editor (edit or notepad) for Windows OS. The default is edit.
    * reorganized the say/gets for best view.
    * changed BuildLangArray() function to reorganize the s_aLangMessages array for
      easy number identification.
    + created new parameter named "-c" to compile after create a script file.
      f.e. hbmake <test.bc> -e -c  this will create and compile without open edit
      options. This is usefull when we need compile only one prg file.
    * updated showhelp() function content.

2007-09-26 22:50 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source\compiler\genc.c
  * source\vm\hvm.c
    * Hack to resolve logical ambiguity of module association with HB_FS_LOCAL
      we didn't know if the linked function is indeed local to the processed module.

2007-09-25 09:17 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * include/Makefile
  + include/hbsxdef.ch
  * include/dbinfo.ch
  * include/hbrdddbf.h
  * include/hbrddcdx.h
  * include/hbrddbmc.h
  * include/hbrddntx.h
  * source/rdd/dbf1.c
  * source/rdd/workarea.c
    + added SIx3 compatible triggers support
      They should work like in SIx3 with some intentional excpetions:
         1) if 4-th parameter exists (PREUSE/GET/PUT) then it's passed by
            reference otherwise is not passed at all and PCOUNT() in trigger
            functions returns 3
            SIx3 do not pass 4-th parameter by reference and if it not
            exist then passes 0
         2) EVENT_POSTCLOSE is executed after SUPER_CLOSE()
            SIx3 executes EVENT_POSTCLOSE just before SUPER_CLOSE()
         3) EVENT_UPDATE is executed _ALWAYS_ when DBF is updated also
            when WA does not have open indexes
            SIx3 executes EVENT_UPDATE only when at least one index is
            open without checking if it's updated or not
         4) EVENT_POSTUSE is executed from OPEN() method in "DBF" RDD not
            from index RDDs so before the indexes are open
            SIx3 executes EVENT_POSTUSE after opening indexes
            It's possible that I'll change this condition in the future
    synced with harbour

  * source/rdd/bmdbfcdx/bmdbfcdx1.c
    * removed some memory leaks.

  * include/hbrdddbf.h
  * source/rdd/dbf1.c
    + added two new members to DBFAREA structure: fModStamp and fTrigger
    synced with harbour

  * include/hbrddntx.h
  * include/hbrddcdx.h
  * include/hbrddbmc.h
    * updated for DBFAREA structure modifications
     synced with harbour

  * include/hbrddcdx.h
  * source/rdd/dbfcdx/dbfcdx1.c
  * source/rdd/bmdbfcdx/bmdbfcdx1.c
    * updated for DBFAREA structure modifications
    + added some very basic support for order temperature flags
    synced with harbour

  * include/hbapi.h
    + HB_ISFIRSTIDCHAR() and HB_ISNEXTIDCHAR() macros
    synced with harbour

  * include/hbstack.h
  * source/vm/estack.c
    + Added hb_stackPopReturn, hb_stackPushReturn, hb_stackGetActionRequest, hb_stackSetActionRequest

  * include/hbvm.h
  * source/vm/hvm.c
    + Added hb_vmRequestReenter, hb_vmRequestRestore, hb_vmRequestReset;

  * source/vm/dynsym.c
  * include/hbapi.h
    + Added hb_dynsymIsFunction
    % optimized __DYNSISFUN

  + source/rdd/hbsix/sxfunc.prg
  * makefile.bc
  * makefile.pc
  * makefile.vc
  * makefile.wc
  * makefile.gc
  * makefile.dc
    + Added some SIx functions to hbsix.lib aported by Prezemek.
      Sx_MakeSem( xSem )
      Sx_KillSem( xSem )
      Sx_IsSem( xSem )
      Sx_Freeze( xTag, nBag )
      Sx_Warm( xTag, nBag )
      Sx_Chill( xTag, nBag )

2007-09-25 12:45 UTC+0700 Budyanto Dj. <budyanto@centrin.net.id>
  * source/debug/debugger.prg
    ! Fixed typoL hDebuggerWindow -> nDebuggerWindow.
      Thanks to Anatole Kolotovkin.

2007-09-24 22:55 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/rtl/dllcall.c
    + Decalre hb_parcstruct() inside HB_EXTERN_BEGIN/HB_EXTERN_END to avoid C++ mangling
  * source/vm/classesc.c
    + Added #include "classes.h" to avoid c++ mangling for hb_objGetClass()

2007-09-23 21:55 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
   * source\rtl\cstruct.prg
     * Use HB_ArrayID() when scanning aObjs to avoid possible overloading of ==

  * source/rtl/win32ole.prg
    + Added explcit implemetations of ::Invoke(), ::Get(), and ::Set() instead of redirection to OnError
    + Added Xbase++ compatible MESSAGEs ::CallMethod(), ::GetProperty(), and ::SetProperty()
    * Corrected possible Missing Release() of default value interface
    * Corrected few typos in oErr:Operation generation

2007-09-23 09:00 UTC-0500 Paul Tucker <ptucker sympatico.ca>
  * include/std.ch
    + missing SET GTMODE INLINE|DETACHED

2007-09-23 11.55 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * source/rtl/cdpapi.c
  * include/hbapicdp.h
    + hb_cdppage() to access hb_cdp_page from outside (DLL)

2007-09-23 05:00 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * source/rtl/regex.c
  * source/pcre/pcreposix.c
    ! temporary solution to force link pcrepos.lib

2007-09-22 09:36 UTC-0800 Luis Krause Mantilla <lkrausem /*at*/ shaw /*dot*/ ca>
  * include/hbextern.ch
    ! Added RecurseDirectory so it works with xbscript.exe

2007-09-22 18:00 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * source/common/hbtrace.c
    ! variables to conform with declarations

2007-09-22 17:55 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * source/rtl/set.c
    ! minor formating, hb_set*() -> hb_set*( void ) - Thanks Przemek

2007-09-22 13:46 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * include/hbcomp.h
  * source/compiler/harbour.c
    ! Use hb_compGetDebugInfo() to collect stopline info for debugger
      after all optimizations instead of collecting it dynamically and
      not respecting optimizations. Based on Harbour code by Przemyslaw
      Czerpak.

2007-09-22 14:00 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * source/vm/estack.c
    ! missing correction on hb_stack_ready due to recent change

2007-09-22 14:00 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * source/rtl/set.c
    ! missing correction on hb_set due to recent change

2007-09-22 13:35 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * include/hbset.h
    ! improper qualifier for global variables:
      extern HB_EXPORT HB_SET_STRUCT hb_set -> extern HB_SET_STRUCT hb_set

2007-09-22 12:35 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * source/rdd/dbcmd.c
    ! fix compile error in MT mode when HB_API_MACROS and HB_STACK_MACROS

  * source/compiler/gen.c
    + "include hbapierr.h" to output file when compiling prg with /gc3 switch

  * include/hbstack.h
    ! improper qualifier for global variable:
      extern HB_EXPORT BOOL hb_stack_ready -> extern BOOL hb_stack_ready

  * include/thread.h
    ! improper qualifier for global variables:
      extern HB_EXPORT BOOL hb_vm_bQuitRequest -> extern BOOL hb_vm_bQuitRequest

  * include/hbtrace.h
    ! improper qualifier for global variables:
      extern HB_EXPORT char * hb_tr_file_  -> extern char * hb_tr_file_
      extern HB_EXPORT int    hb_tr_line_  -> extern int    hb_tr_line_
      extern HB_EXPORT int    hb_tr_level_ -> extern int    hb_tr_level_

      /*
        NOTE:
        HB_EXPORTS is only applicable to functions, _NOT_ _VARIABLES_.
        Some compilers reject this situation. Although it does not have bad
        effect when applied, but the symbols will appear in imported lib for
        no valid reasons. I have corrected those ones on 2003 but don't know
        why they appear again.
       */

  * include/hbapi.h
  * source/vm/memvars.c
  * source/vm/cmdarg.c
    * hb_memvarGetPrivatesBase() exported
    * hb_cmdargARGV() exported

  * include/hbset.h
  * source/rtl/set.c
    + APIs to access hb_set members (required when working with DLLs):
       + hb_setAltHan()
       + hb_setCentury()
       + hb_setExtraHan()
       + hb_setPrintHan()
       + hb_setAlternate()
       + hb_setAltFile()
       + hb_setAutOpen()
       + hb_setAutOrder()
       + hb_setAutoShare()
       + hb_setBell()
       + hb_setCancel()
       + hb_setColor()
       + hb_setConfirm()
       + hb_setConsole()
       + hb_setDateFormat()
       + hb_setDebug()
       + hb_setDecimals()
       + hb_setDefault()
       + hb_setDeleted()
       + hb_setDelimChars()
       + hb_setDelimiters()
       + hb_setDevice()
       + hb_setEOF()
       + hb_setEpoch()
       + hb_setEscape()
       + hb_setEventMask()
       + hb_setExact()
       + hb_setExclusive()
       + hb_setExit()
       + hb_setExtra()
       + hb_setExtraFile()
       + hb_setFixed()
       + hb_setIdleRepeat()
       + hb_setInsert()
       + hb_setIntensity()
       + hb_setPath()
       + hb_setMargin()
       + hb_setMBlockSize()
       + hb_setMCenter()
       + hb_setMessage()
       + hb_setMFileExt()
       + hb_setOptimize()
       + hb_setPrinter()
       + hb_setPrintFile()
       + hb_setScoreBoard()
       + hb_setScrollBreak()
       + hb_setSoftSeek()
       + hb_setStrictRead()
       + hb_setTypeAhead()
       + hb_setUnique()
       + hb_setFileCase()
       + hb_setDirCase()
       + hb_setDirSeparator()
       + hb_setVideoMode()
       + hb_setWrap()
       + hb_setDBFLockScheme()
       + hb_setTrace()
       + hb_setTraceFile()
       + hb_setTraceStack()
       + hb_setErrorLoop()
       + hb_setOutputSafety()
       + hb_setBackgroundTasks()
       + hb_setTrimFileName()
       + hb_setWinPrinter()
       + hb_setWinHan()
       + hb_setPrinterJob()
       + hb_setGTMode()
       + hb_setBackGroundTick()
       + hb_setHardCommit()
       + hb_setForceOpt()
       + hb_setEOL()
       + hb_setAppendError()
       + hb_setErrorLog()
       + hb_setTimeFormat()

  * source/ct/ctnet.c
  * source/ct/dattime2.c
  * source/ct/misc3.c
    ! protect direct access to hb_set when __EXPORT__

2007-09-21 22:30 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/debug/dbgbrwsr.prg
  * source/debug/dbghelp.prg
  * source/debug/dbgmenu.prg
  * source/debug/dbgtarr.prg
  * source/debug/dbgthsh.prg
  * source/debug/dbgtmenu.prg
  * source/debug/dbgtmitm.prg
  * source/debug/dbgtobj.prg
  * source/debug/dbgtwin.prg
  * source/debug/dbgwa.prg
  * source/debug/debugger.prg
  * source/debug/tbrwtext.prg
    * Huge formatting and naming cleanup in debugger, mostly synced with
      Harbour changes by Viktor Szakats.

2007-09-21 23:30 UTC+0700 Budyanto Dj. <budyanto@centrin.net.id>
  * contrib/gtwvw/gtwvw.c
    ! WM_HSCROLL and WM_VSCROLL should be controlled by bTopMost || s_bAllowNonTop,
      not by hb_wvw_gtAcceptingInput(). This may cause problem if WVW_SETFOCUS interferes.
      Fixed.
    ! wvw_ebcreate() :: do NOT use ES_OEMCONVERT by default

2007-09-21 12:06 UTC-0300 Luiz Rafael Culik Guimaraes <luiz at xharbour.com.br>
  * source/debug/debugger.prg
    ! fixes for OpenDebuggerWindow() and CloseDebuggerWindow() when using gtwvw. changes provided by Anatole Kolotovkin <abakkav@rol.ru>

2007-09-17 10:20 UTC-0300 Ranier Vilela <ranier/at/cultura.com.br>
  * source/rtl/mlctopos.c
    * Minor fix 6th parameter (bWordWrap)

2007-09-17 09:06 UTC-0300 Luiz Rafael Culik Guimaraes <luiz at xharbour.com.br>
   * source\tip\sendmail.prg
     ! added two missing parameters that conntrol smtp autentication
       now the function is correct with the correct parameters as bellow
     * Parameters to HB_SendMail() are now:
       HB_SendMail( cServer, nPort, cFrom, aTo, aCC, aBCC, cBody, cSubject, aFiles, cUser, cPass, cPopServer,nPriority, lRead, lTrace, lPopAuth)
       Where:
       cServer    -> Required. IP or domain name of the mail server
        nPort      -> Optional. Port used my email server
        cfrom      -> Required. Email address of the sender
        aTo        -> Required. Character string or array of email addresses to send the email to
        aCC        -> Optional. Character string or array of email adresses for CC (Carbon Copy)
        aBCC       -> Optional. Character string or array of email adresses for BCC (Blind Carbon Copy)
        cBody      -> Optional. The body message of the email as text, or the filename of the HTML message to send.
        cSubject   -> Optional. Subject of the sending email
        aFiles     -> Optional. Array of attachments to the email to send
        cUser      -> Required. User name for the POP3 server
        cPass      -> Required. Password for cUser
            cPopServer -> Requered. IP or domain name of the pop3 mail server
        nPriority  -> Optional. Email priority: 1=High, 3=Normal (Standard), 5=Low
        lRead      -> Optional. If set to .T., a confirmation request is send. Standard setting is .F.
        lTrace     -> Optional. If set to .T., a log file is created (sendmail<nNr>.log). Standard setting is .F.
            lPopAuth   -> Optional. Flag to indicate that pop3 autentication is used. Standard setting is  .T.



2007-09-17 13:30 UTC+0100 Jose F. Gimenez <jfgimenez/at/wanadoo.es>
   * include/hbapi.h
     % Increased HB_MAX_MACRO_ARGS, HB_MAX_WITH_OBJECTS and HB_MAX_ENUMERATIONS from 16 to 64
       NOTE: This is a temporary solution, since Miguel Angel is working on make them unlimited

2007-09-17 07:08 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/compiler/harbour.slx
    * Minor Formatting
  * source/rtl/win32ole.prg
    * Use default property only once

2007-09-15 20:40 UTC-0500 Paul Tucker <ptucker sympatico.ca>
   * include/hbsetup.ch
     - an extra closing comment after HB_COMPAT_FLAGSHIP

2007-09-15 19:06 UTC+0100 Patrick Mast <patrick/dot/mast/at/xharbour.com>
   + source\tip\sendmail.prg
     ( This is a enhancement on Luiz Rafael Culik Guimaraes's original SendMail() )
     + Added HB_SendMail() & HB_SetMimeType()
     * Formatting
     * Removed unused declared variables
     * Removed "lPopAuth" as it was not used in SendMail()
     * Removed "cPopServer" as it was not used in SendMail()
     * Parameters to HB_SendMail() are now:
       HB_SendMail( cServer, nPort, cFrom, aTo, aCC, aBCC, cBody, cSubject, aFiles, cUser, cPass, nPriority, lRead, lTrace)
       Where:
       cServer    -> Required. IP or domain name of the mail server
        nPort      -> Optional. Port used my email server
        cfrom      -> Required. Email address of the sender
        aTo        -> Required. Character string or array of email addresses to send the email to
        aCC        -> Optional. Character string or array of email adresses for CC (Carbon Copy)
        aBCC       -> Optional. Character string or array of email adresses for BCC (Blind Carbon Copy)
        cBody      -> Optional. The body message of the email as text, or the filename of the HTML message to send.
        cSubject   -> Optional. Subject of the sending email
        aFiles     -> Optional. Array of attachments to the email to send
        cUser      -> Required. User name for the POP3 server
        cPass      -> Required. Password for cUser
        nPriority  -> Optional. Email priority: 1=High, 3=Normal (Standard), 5=Low
        lRead      -> Optional. If set to .T., a confirmation request is send. Standard setting is .F.
        lTrace     -> Optional. If set to .T., a log file is created (sendmail<nNr>.log). Standard setting is .F.
      * Changed hcr(13)+chr(10)'s to HB_OsNewLine()
      * Added CC (Carbon Copy)
      * Added BCC (Blind Carbon Copy)
    * hrbdll.bc
    * makefile.bc
    * hrbdll.vc
    * makefile.vc
    * hrbdll.wc
    * makefile.wc
    * hrbdll.pc
    * makefile.pc
    * hrbdll.dc
    * makefile.dc
    * hrbdll.gc
    * makefile.gc
      + Added sendmail.prg

2007-09-15 09:25 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/tbrowse.prg
    * changed ::aSetStyle data to ::aStyle. This is initialized with
      TBR_CUSTOM value length of 6 and filled with .f. values.
    ! fixed SetStyle( nStyle, lSetting ) method to allow add user styles.
      if <nStyle> is greater than Len( ::aStyle ) then it's will add elements
      automatically.
    - removed AddStyle() method. By now is useless.

  * source/rtl/tget.prg
    ! fixed to don't display get value at right area of an object, when the
      get is an object f.e. a listbox.
    ! fixed to display get caption only when the get is not an object.
      Error reported from comp.lang.xharbour news.

  * source/rtl/listbox.prg
    ! fixed SetCaption(xData) method to display caption at CapCol and CapRow
      coordinates properly.
    * restored original style character "" for Windows platform.
      Error reported from comp.lang.xharbour news.

  * utils/hbmake/hbmake.prg
    * reactivated mouse to allow access listboxes and checkboxes by click.

2007-09-15 03:50 UTC-0500 Paul Tucker <ptucker sympatico.ca>
  * source/rtl/tprinter.c
    * removed wayward ; at end of if statement.

2007-09-15 02:40 UTC-0500 Paul Tucker <ptucker sympatico.ca>
  * source/rtl/hbtoken.c
    * Added in functionality from old teditorl.c

2007-09-15 02:14 UTC-0500 Paul Tucker <ptucker sympatico.ca>
  * source/rtl/hbtoken.c
    * For the moment, the new hb_atokens and related functions have been
      commented out until after the next release.

2007-09-13 10:10 UTC-0300 Luiz Rafael Culik Guimaraes <luiz at xharbour.com.br>
  * include/std.ch
    ! Fixed the save to rules

2007-09-12 11:50 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
   * makefile.pc
     ! fixed line 3217. Missing of "\" after $(HB_DIR)
       $(PPGEN_EXE) $(HB_DIR)\include\hbstdgen.ch -o$(PP_DIR)\pptable.c -q

2007-09-12 09:10 UTC-0300 Luiz Rafael Culik Guimaraes
  * include/std.ch
    ! Added missing extended clause to save to/ restore from command

2007-09-11 15:09 UTC-0300 Walter Negro <anegro/AT/overnet/com/ar>
  * include/hbclass.ch
    ! Minor fix in declaration of method, not translated as UTILITY PROCEDURE
  * source/rtl/transfrm.c
    ! fix GPF with the next code: x:="3.10";n:=Val(x);Transform(n,"@X")
      due to side effect in correction to Transform(0.80,".9999")
  * source/rtl/fastitem.c
    ! Fix hb_retcAdopt(), hb_retclenAdopt(), hb_retclenAdoptRaw() and hb_retclenStatic()
      when szText is NULL. (not null string)

2007-09-11 05:05 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
  * source/rtl/pcre/pcre_globals.c
    * work-around for OpenWatcom 1.7
  * source/rtl/console.c
    * _fileno -> fileno, for OpenWatcom 1.7

2007-09-10 08:05 UTC-0500 Paul Tucker <ptucker sympatico.ca>
   * source/rtl/set.c
     ! fix possible GPF after hb_setListenerRemove() (przemek fix)

2007-09-08 21:34 UTC+0100 Patrick Mast <patrick/dot/mast/at/xharbour.com>
   * source\tip\ftpcln.prg
     * Formatting
      + METHOD StartCleanLogFile()
        Starts a clean log file, overwriting current logfile.
      + METHOD fileSize( cFileSpec )
        Calculates the file-size of the given files specifications.
      + DATA cLogFile
        Holds the filename of the current logfile.
      ! Fixed logfilename in New(), now its not limited to 9999 log files anymore
      ! Fixed MGet() due to changes in HB_aTokens()
      ! Fixed listFiles() due to changes in HB_aTokens()
      ! listFiles() is still buggy. Needs to be fixed.
    * source\rtl\hbtoken.c
      + HB_aTokens__()
        This is the 'old' hb_aTokens() which returns a 2 elements array for
        HB_aTokens__(".","."). I just added HB_aTokens__() as a TEMPORARY
        solution for those who need a quick dirty fix for their existing
        source code. This function will be deleted in a future release.

2007-09-07 21:04 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
   * source/compiler/harbour.sly
     ! Fixed Using EXIT inside SWITCH/CASE.../END statement leaves dummy value on HVM
       stack. Repeated in a loop allocates whole system memory for growing up
       HVM stack.

2007-09-07 01:40 UTC-0500 Paul Tucker <ptucker sympatico.ca>
  * source/rtl/set.c
    ! fix SET AutoShare (id 213)

2007-09-07 18:17 UTC+0200 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>
  * source/vm/macro.c
    * Commented out unuseful assignment szString = NULL in function hb_macroGetValue()

2007-09-06 12:40 UTC-0300 Luiz Rafael Culik Guimaraes
  * source/tip/ftpcln.prg
  * source/tip/smtpcln.prg
  * source/tip/popcln.prg
    ! when trace enable change trace filename to be between 1 and 9999 example ftp993.log

2007-09-05 20:00 UTC-0300 Luiz Rafael Culik Guimaraes
  * include/std.ch
    ! minor fix to previus commit

2007-09-05 17:00 UTC-0300 Luiz Rafael Culik Guimaraes
  * include/std.ch
    ! minor fix to previus commit

2007-09-04 23:38 UTC-0500 Paul Tucker <ptucker sympatico.ca>
  * source/rtl/hbtoken.c
    * corrected for empty source string.

2007-09-04 19:00 UTC-0300 Luiz Rafael Culik Guimaraes
  * include/std.ch
    ! added some missing rules to index on command

2007-09-05 01:16 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/vm/dbgentry.c
    ! Accept :: in expressions inside debugger.

2007-09-04 09:25 UTC+0700 Budyanto Dj. <budyanto@centrin.net.id>
  * source/rtl/win32prn.prg
    ! Fixed :EndPage() description on header (lFinisih -> lStartNewPage)

2007-09-03 21:40 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
   * source\rtl\tbrowse.prg
     ! Fixed TBrowse displays 2 rows when browsing empty database.

2007-09-03 02:30 UTC-0500 Paul Tucker <ptucker sympatico.ca>
   * source/rtl/teditor.prg
     * commented out a couple of token workarounds
   * source/rtl/tget.prg
     * Use replicate instead of repeating string

2007-09-03 02:05 UTC-0500 Paul Tucker <ptucker sympatico.ca>
   * source/rtl/disksphb.c
     * finished up changes for <nDrive> support
   * source/vm/arrayshb.c
     * some functions moved to ../rtl/hbtoken.c
   + source/rtl/hbtoken.c
     * as implemented in Harbour
   - source/rtl/teditorl.c
     * functionality move to hbtoken
   * hrbdll.bc
   * hrbdll.dc
   * hrbdll.gc
   * hrbdll.pc
   * hrbdll.vc
   * hrbdll.wc
   * Makefile
   * makefile.bc
   * makefile.dc
   * makefile.gc
   * makefile.pc
   * makefile.vc
   * makefile.wc
   * source/rtl/Makefile
     + source/rtl/hbtoken.c
     - source/rtl/teditorl.c
   * bin/pack_src.sh
     ! added missing pcre dependencies to tar

2007-08-31 10:33 UTC+0100 Patrick Mast <patrick/dot/mast/at/xharbour.com>
   * source\rtl\tbrowse.prg
   ! Fixed Argument error in TBrowse:dbGoBottom() when browsing empty database
     See bug-id http://www.xHarbour.com/bug.asp?id=203

2007-08-31 11:00 UTC+0100 Patrick Mast <patrick/dot/mast/at/xharbour.com>
   * source\tip\ftpcln.prg
     ! Fixed METHOD Stor() in class tIPClientFTP
       Remmed out 'IF ! ::GetReply()' because it always makes Stor() returning .F.
       Causing the uploaded file to be sized ZERO.
       Note: This may be a wrokaround to get it fixed. Miguel, can you take a
             closer look to see if this needs more fixing?

2007-08-31 10:33 UTC+0100 Patrick Mast <patrick/dot/mast/at/xharbour.com>
   * source\rtl\tbrowse.prg
   ! Fixed Argument error in TBrowse:EvalSkipBlock() when browsing empty database
     See bug-id http://www.xHarbour.com/bug.asp?id=202

2007-08-30 19:00 UTC-0300 Luiz Rafael Culik Guimaraes
   * utils/hbmake/hbmake.prg
     utils/hbmake/tmake.prg
     ! minor fix

2007-08-30 13:14 UTC+0100 Patrick Mast <patrick/dot/mast/at/xharbour.com>
   * source\rtl\tbrowse.prg
     ! Fixed Argument error in TBrowse:Stabilize() when browsing empty database
       See bug-id http://www.xHarbour.com/bug.asp?id=201

2007-08-29 13:50 UTC+0100 Patrick Mast <patrick/dot/mast/at/xharbour.com>
   * source\vm\hvm.c
     * Disabled tracelog output for "*** WARNING! Function: %s in Module: %s is hidden by previously
       registered Module:..."

2007-08-28 15:35 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include\common.ch
    * Guard some ValType() optimization rules which may break some odd but valid Clipper code with #ifdef OPTIMIZE_VALTYPE
      /* These rules may also be moved to some seperate header with note about this issue */

2007-08-28 14:55 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
   * source\common\expropt2.c
   * source\common\hbstr.c
     * Reverted errornous last commit

   * include\hbexprb.c
     + Enabled compile time optimization of Upper() to match some side effect of Clipper
       /* This is required for strict compatability with Clipper f.e.:
             ? Upper( "" ) $ ""
          but this may cause codepage related issues. We need someone with internationalization
          experience to review this.

         Note: Clipper is producing inconsistent resutls due to this optimization, f.e.:
             LOCAL c := Upper( "" )
             ? c $ ""           //.F.
             ? Upper( "" ) $ "" //.T.
         and so we might also decide to prefer consistency over strict compatability.
       */

   * source\vm\macro.c
     ! Fixed support for nested macros in hb_macroGetValue()

2007-08-28 11:50 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
   * source\common\expropt2.c
   * source\common\hbstr.c
     * Clipper compatability of $ (hb_strAt) when left argument is of length 0

2007-08-28 08:30 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
   * source/compiler/harbour.sly
     * Moved PARAMATERS rule into Statament

2007-08-27 03:10 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/pp/ppcore.c
    * Workaround for spacing problem in revertion of [...] into literal string after tokenization as array index

2007-08-26 15:52 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
   * include\hbexpra.c
     ! Fixed GPF trap related to static initialization of Hash with no elements

2007-08-25 13:42 UTC-0500 Paul Tucker <ptucker sympatico.ca>
   * source/rtl/disksphb.c
     ! removed NULL assignment
   * source/ct/diskutil.prg
     ! removed some redundant Default(...)
     * changed DiskUsed() to use 1 call to hb_Diskspace()

2007-08-24 13:05 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
   * source/rdd/usrrdd/rdds/ansirdd.prg
     ! fixed sintax error.

2007-08-24 04:05 UTC-0500 Paul Tucker <ptucker sympatico.ca>
   * source/rtl/disksphb.c
     * fix bPath
   * doc/en/diskspac.txt
     * documentation update.

2007-08-24 04:00 UTC-0500 Paul Tucker <ptucker sympatico.ca>
   * source/rtl/disksphb.c
     * corrected szPath handling to not update parc buffer
     * <nDrive> | <cPath> can now be any of 3, "C", "C:", to mean "C:\"

2007-08-23 20:48 UTC+0100 Patrick Mast <patrick/dot/mast/at/xharbour.com>
   * tests\tstdspac.prg
     * New sample that shows difference between DiskSpace() and HB_DiskSpace()

2007-08-23 20:06 UTC+0100 Patrick Mast <patrick/dot/mast/at/xharbour.com>
   * tests\inline_c.prg
     ! Fixed broken HB_INLINE's

2007-08-23 08:05 UTC-0500 Paul Tucker <ptucker sympatico.ca>
   * source/rtl/disksphb.c
   * doc/en/diskspac.txt
     * Under windows specifically for now (others may work but are yet
       untested) - hb_diskspace will accept a numeric parameter.
       hb_diskspace( [<ndrive> | <cPath>] [,<nType>] ) -> RequestedTypeOfBytes

2007-08-23 13:10 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
   * source/compiler/harbour.sly
     ! Fixed Using LOOP inside SWITCH/CASE.../END statement leaves dummy value on HVM
       stack. Repeated in a loop allocates whole system memory for growing up
       HVM stack.
     ! fixed SWITCH/CASE.../END statement don't allows to use EXIT inside WHILE.
       Repeated in a loop allocates whole system memory
       for growing up HVM stack and exceptions list.

2007-08-23 05:20 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
   * source\rtl\cstruct.prg
     * Minor correction

2007-08-22 12:12 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
   * source/compiler/harbour.sly
     ! Fixed FINALLY can't be used in TRY/CATCH statement when CATCH code
       has LOOP or EXIT statements. In this example FINALLY code is
       never executed but memory is consumed in infinite loop.

2007-08-22 12:12 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * source/compiler/harbour.sly
    ! Fixed EXIT and LOOP can't be used inside FINALLY block of TRY statement

2007-08-22 11:45 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * source/compiler/harbour.sly
  * source/compiler/harbour.c
    ! Fixed EXIT and LOOP inside WITH OBJECT / END statement now resets WITH OBJECT state.
      the second exit too solved.

    It can be tested with:
             proc main()
                local o:=errorNew()
                WHILE ! Empty( o )
                   WITH OBJECT o
                      IF :ClassName() == 'TDIALOG'
                         EXIT
                      ELSEIF :ClassName() $ "TMDICHILD;TWINDOW"
                         EXIT
                      ENDIF
                   END
                END
             return


2007-08-21 22:41 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * source/common/hbdate.c
    ! Fixed aleatory GFP produced by unterminated char * at strlen.

2007-08-21 11:50 UTC-0300 Marcelo Lombardo <marcelo@xharbour.com.br>
  * make_macosx.sh
    + Added build script to Mac OSX
  * doc/howto_macosx.txt
    + Added instructions to build and install in Mac OSX

2007-08-21 02:26 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/compiler/genc.c
    ! Fixed a very old typo leading to segfault when processing inline C code.

2007-08-20 21:30 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * harbour/source/rdd/dbcmd.c
    * cleaned DBSKIPPER() code
    synced with harbour

  * harbour/source/rtl/browdb.prg
    * use written in C DBSKIPPER() function instead of static .prg Skipped()
      when HB_COMPAT_XPP macro is enabled
    synced with harbour

2007-08-20 20:41 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * source/compiler/harbour.sly
    ! Fixed EXIT and LOOP inside WITH OBJECT / END statement now resets WITH OBJECT state.

    It can be tested with:
        proc main()
        local o:=errorNew()
        while .t.
           with object o
              ? :tries++
              loop
           end
        enddo
        return

2007-08-17 09:30 UTC-0300 Antonio Carlos Pantaglione <toninho@fwi.com.br>
  * contrib/rdd_ads/ace.h
    ! updated to version 8.1 from the Advantage SDK package.

2007-08-14 16:58 UTC+0100 Patrick Mast <patrick/dot/mast/at/xharbour.com>
  * source\tip\ftpcln.prg
    ! Fixed return values from -1 to .F. in method UploadFile() when it was failing.

2007-08-13 06:40 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/common/hbtrace.c
  * source/rtl/filesys.c
  * source/rtl/gtapi.c
    * xCC compilation

2007-08-09 13:47 UTC+0100 Patrick Mast <patrick/dot/mast/at/xharbour.com>
  * source/pp/ppcore.c
    + added support for .T., .F., .Y., .N. in PP and #IF ... / #ELSEIF ...
      expressions. (synced with Harbour)
  * source/compiler/harbour.c
    Warning W0004 ( Codeblock parameter: 'X' declared but not used in function: 'xyz' )
    only shows with -W4

2007-08-08 19:00 UTC-0300 Luiz Rafael Culik Guimaraes
  * source/common/hbtrace.c
    source/rtl/filesys.c
    source/rtl/gtapi.c
    ! minor changes to make msvc happy on eof/fileno/close/isatty/dup functions

2007-08-07 11:30 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source\rtl\transfrm.c
    ! Added #ifndef HB_LONG_LONG_OFF directive to avoid compiler error if
      HB_LONG_LONG_OFF is off, as is on OS/2. Bug reported by Maurilio Longo.

2007-08-07 00:29 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * make_gnu.sh
    ! Don't try to build GTSLN if Slang is not found, use gmake under HP-UX
    (fixes by Przemyslaw Czerpak, mostly synced with Harbour).
  * include/Makefile
  + include/hbapidbg.h
  * include/hbvm.h
    * Moved debugger API to a separate header (synced with Harbour).
  * source/debug/dbghelp.prg
  * source/debug/dbgmenu.prg
  * source/debug/dbgtarr.prg
  * source/debug/dbgthsh.prg
  * source/debug/dbgtobj.prg
  * source/debug/dbgwa.prg
    % Removed unused variables (synced with Harbour)
  * source/debug/debugger.prg
    % Removed unused variables, use wrappers instead of HB_INLINES (mostly
      synced with Harbour).
    ! Add a missing DispEnd() call (fix by Przemyslaw Czerpak, borrowed from
      Harbour)
  * source/vm/dbgentry.c
    ! Use less xHarbour structure internals, fix some memory leaks, added a
      set of HB_DBG_* functions to control the debugger (changes by Przemyslaw
      Czerpak, mostly synced with Harbour).
  * source/vm/debug.c
  * source/vm/hvm.c
    % Simplified HVM <-> debugger interface (by Przemyslaw Czerpak, synced
      with Harbour where possible).
  * source/pp/Makefile
    ! Fix building ppgen under some odd/old GNU make versions, especially in
      OS/2 (synced with Harbour).

2007-08-06 09:50 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source\rtl\tbrowse.prg
    ! fix to accept " " as valid string at headsep and footsep.
    Bug and fix provided by Budyanto Dj.

  * source\rtl\transfrm.c
    ! fix to transform int64 numbers. Bug and fix provided by Marcelo Lombardo.

2007-07-31 12:32 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * source/rdd/dbf1.c
    ! added RT error when someone tires to create DBF with more then
      2046 fields - without it corrupted files were created or GPF
      appeared
    synced with harbour
  * source/rtl/hbrandom.c
    ! minor fix, cleaned unused variables.

2007-07-20 09:49 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * source/rtl/str.c
    !fix bug in Str( <nNumber>, [<nLength>], [<nDecimals>], [<lTrim>] ), it ignored 2nd and 3rd parameter
     when the 4th exists. No uses always 2nd and 3rd parameter, too with [<ltrim>] parameter.

2007-07-19 09:00 UTC-0300 Luiz Rafael Culik Guimaraes
  * utils/hbmake/hbmake.prg
    !minor fix

2007-07-17 14:56 UTC-0700 Andres Reyes <andresreyes_mzt/at/yahoo.com.mx>
  * source/contrib/mysql/tmysql.prg
     !fix TMySQLTable():MakePrimaryKeyWhere() bug when get FieldType


2007-07-17 17:01 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * source/tip/ftpcln.prg
    * Cleaned some unused variables.


2007-07-13 10:43 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * source/tip/client.prg
  * source/tip/ftpcln.prg
    + Added support to PORT transfer mode, alternative to PASV transfer mode. When :bUsePasv will be false
      PORT mode will be used.
    + Added method :NoOp()
    + Added method :Rest( nPos )
    * Changed method :LS( cSpec )
    * Changed method :List( cSpec )
    * Changed method :TransferStart()
    * Changed method :Stor( cFile )
    * Changed method :UploadFile( cLocalFile, cRemoteFile )
    * Changed method :DownloadFile( cLocalFile, cRemoteFile )
    + Added method :Port()
    + Added method :SendPort()


2007-07-06 09:36 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/vm/macro.c
    * Minor refinment to my last commit - Clipper accept spaces only at end of Identifier

2007-07-06 09:45 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * make_pc.bat
    * changed clean session to delete .exp and .lib files generated after
      the .exe creation by polink, after recent pcrepos.lib changes.

  * makefile.pc
  * hrbdll.pc
    - moved "NO_EXP_OBJ" command.

  * source/rtl/transfrm.c
    * fixed to don't display "CR" at zero value in "@C" picture.
      f.e: transfrm(0,"@C 9.99")

  * source/rtl/tbrowse.prg
  * source/rtl/tbcolumn.prg
    * fixed ::aSetStyle array size as declared in tbrowse.ch.
      Bug reported by Ed Horbino.
    + added AddStyle() method to allow add more custom styles defined by user.

  * source/rtl/tgetlist.prg
    * disabled oGet:DelEnd() at line 518 of GetApplyKey() method to don't
      clear the get buffer when postblock returns .f.. Clipper compatibility.
      Bug reported by Nick Van Dyck.

  * utils/hbmake/hbmake.prg
    * changed to delete .exp and .lib files generated by polink after the .exe
      creation under Pelles C.

2007-07-05 20:54 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * dll_vc.bat
  * hrbdll.vc
    * Moved harbour.dll creation to bin\vc\dll to avoid override of harbour.pdb if building with debug info

  * source/macro/macroa.c
  * source/compiler/expropta.c
  * include/hbexpra.c
    ! Fixed compilation of &DotedMacro.MoreText() by Macro compiler

  * include/simplex.c
    ! Fixed GPF trap when IDENTIFIER token is longer then TOKEN_SIZE
    * Fixed minor typos

  * source/macro/macro.slx
    * Fixed minor typo in defedout code

  * source/vm/macro.c
    ! Clipper compatability fix when identifier used in macro is longer then HB_SYMBOL_NAME_LEN or has a SPACE

2007-07-05 14:08 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * contrib/wvtgui/wvtclass.prg
    * Missing decleration
  * include/simplex.c
  * source/macro/macro.slx
    * Minor memory leak
  * tests/tstcstru1.prg
    * Corrected sample usage

2007-07-05 12:56 UTC+0100 Miguel Angel Marchuet (miguelangel/at/marchuet.net)
  * source/rdd/bmdbfcdx/bmdbfcdx1.c
    ! fixed casting
    % do not copy date value to separate memory buffer but decode dates directly from record buffer
    * cleaned few warnings

2007-07-05 12:56 UTC+0100 Miguel Angel Marchuet (miguelangel/at/marchuet.net)
  * source/rdd/delim1.c
  * source/rdd/dbf1.c
  * source/rdd/sdf1.c
  * source/rdd/dbfcdx/dbfcdx1.c
    ! fixed casting
    % do not copy date value to separate memory buffer but decode dates directly from record buffer
    * cleaned few warnings
    ; synced with harbour

  * source/rdd/hbsix/sxcompr.c
    ! fixed bug in workaround for SIX3 bug ;-)
    ; synced with harbour

2007-07-04 14:55 UTC-0800 Pritpal Bedi <pritpal@vouchcac.com>
  * contrib/wvtgui/wvtclass.prg
    ! Additional functionality.

2007-07-03 22:22 UTC-0800 Pritpal Bedi <pritpal@vouchcac.com>
  * contrib/wvtgui/wvtclass.prg
    ! Added few more Data Members to allow extended functionality.

2007-07-02 15:15 UTC+200 Alex Strickland <sscc@mweb.co.za>
  * source/rtl/dllcall.c
    * Fix handling of strings passed by reference to use hb_parclen(), malloc() and free()
      are used.
    * Remove MessageBox() announcing result of GetLastError(), and also removed SetLastError().

2007-07-02 16:30 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * source/rtl/memoedit.prg
    * added K_CTRL_N back into ::aConfigurableKeys in MemoInit()
      for Clipper compatibility

2007-06-30 15:00 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * source/rtl/dateshb.c
    * change HB_FUNC( STOD ) to support strings passed longer than 8 char
       e.g. STOD( "20070630sadasd " )
  * source/hbexprb.c
    * alter STOD() optimiser support date strings "YYYYMMDD" passed longer than 8 char
  * source/common/hbdate.c
    * hb_dateStrGet() support date strings "YYYYMMDD" passed longer than 8 char
  * source/rdd/delim.c
    * support date strings "YYYYMMDD" passed longer than 8 char

2007-05-28 11:19 UTC-0700 Andres Reyes <andresreyes_mzt/at/yahoo.com.mx>
  * include/hbclass.ch
     + #xcommand DECLSUPERN - for bug in superclass declaration

2007-05-28 11:40 UTC-0800 Pritpal Bedi <pritpal@vouchcac.com>
  * contrib/wvtgui/wvtcore.c
    ! Fixes in Wvt_DrawScrollThumbHorz() and Wvt_DrawScrollThumbVert()
  * contrib/wvtgui/wvtclass.prg
    ! Added few more methods and behavior of SetKey() changed.

2007-06-23 03:00 UTC-0800 Brian Hays <bhays at abacuslaw.com>
  * contrib/rdd_ads/ads1.c
    * Sync'ed with Harbour to bring in new commonError()
    and miscellaneous error handling;
    fixes neterr() not being set to TRUE as reported by Patrick.

  Note: Harbour still lacks a few of our fixes, including the "set"
        internal pointer references being replaced by
        hb_setext = hb_GetSetStructPtr();
        This file "should" be fine to post to Harbour as
      well to keep in sync, but I haven't downloaded nor
        tested with their cvs.  It would be good if someone
        could take the time to do that.

2007-06-22 16:00 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * source/rtl/achoice.prg
    * restore Clipper compatibility, stop RTL error if <acItems>
      is =NIL, ={} or not array type. Just return 0

2007-06-18 10:20 UTC-0800 Luis Krause Mantilla <lkrausem /*at*/ shaw /*dot*/ ca>
  * source/vm/maindllp.c
    * fixed error (Undefined symbol 'pModuleSymbols') and
      warning (Parameter 'pGlobals' is never used)

2007-06-18 08:24 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/hbtypes.h
  * source/vm/maindllp.c
    * Synched with changes to hb_vmProcessSymbols()

2007-06-17 12:00 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * source/rtl/tprinter.c
    * fix unused variable warning

2007-06-15 11:45 UTC+200 Alex Strickland <sscc@mweb.co.za>
  * source/rtl/tprinter.c
    * Cast for MSVC.
  * include/hbclass.ch
    * Fix two typos in rules : _AsStr -> _AsStr_

2007-06-14 16:00 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * source/rtl/tprinter.c
    * hb_GetDefaultPrinter() changed to get correct default printer
          on all Windows versions

2007-06-13 19:07 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/pp/ppcore.c
    * Line numbering adjustment for extended codeblocks

  * source/vm/hvm.c
    ! Raise error on attempt to assign cyclic reference to local or static var

    /*
       I'   * not sure if there maybe a valid reason for such assignment,
       Clipper appears to ignore this error:

       LOCAL SomeLocal

       SomeLocal := IIF( .T., @SomeLocal, ) // Cyclic Ref here!!!
     */

2007-06-12 09:00 UTC-0300 Luiz Rafael Culik Guimaraes
  * source/rtl/tprinter.c
    ! fixes hb_getDefaultPrinter to return correctly on windows xp/2003

2007-06-06 18:19 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/vm/fm.c
    ! Fixed GPF trap due to typo in hb_xexit() related to uiAutoRelease

2007-06-06 09:58 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/vm/hvm.c
    ! Fixed GPF trap (accessing freed memory in Destructor)

2007-06-05 21:40 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * makefile.pc
  * hrbdll.pc
    + added pcre_ files.
    + added thtml.prg

  * source/rtl/tbrowse.prg
    ! fixed bug in static function IsDb() to work properly when an array is used
      as datasource and exist workareas in use. Bug reported by Gilberto
      Silverio.

2007-06-05 20:19 UTC+0200 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>
  * contrib/hbzlib/include/zipexception.h
    * removed wrong CZipException:: qualificator in CZipException copy constructor

  * contrib/hbzlib/zip.c
    + added extern void hb_fsDirectory() declaration

  * contrib/hbzlib/include/hbzip2.h
  * contrib/hbzlib/zipnew.cpp
    * changed fifth parameter to const char *pbyBuffer in hb_UnzipSel() function

    /* Now hbzlib should build file in *nix (although with warnings).
       Please test. */

2007-06-04 16:54 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/vm/eval.c
    * GPF trap (found by Ranier)

2007-06-04 17:10 UTC-0300 Ranier Vilela <ranier/at/cultura.com.br>
  + source/rtl/pcre/pcre_printint.src
    + Added pcre_printint.src to compile with DEBUG enabled

2007-06-03 17:10 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * make_xmingw.sh
  * source/pp/Makefile
    * Cosmetic changes by Przemyslaw Czerpak to the cross-compiling system
      (borrowed from Harbour).

2007-06-03 16:58 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/compiler/harbour.c
    ! Fixed a segfault (double free) when compiling debug info for codeblocks
      with detached locals.
  * source/compiler/hbdbginf.c
    * Fixed a comment.

2007-06-02 12:41 UTC+0100 Patrick Mast <patrick/dot/mast/at/xharbour.com>
  * Makfile.vc
    + Added thtml.prg

2007-06-01 16:34 UTC-0300 Antonio Carlos Pantaglione <toninho@fwi.com.br>
  * source/tip/client.prg
    + Added data ::nWrite to work like ::nRead for upload stream
  * source/tip/ftpcln.prg
    + Added method ::UserCommand() that permit users sent custom commands

2007-05-31 16:22 UTC-0300 Ranier Vilela <ranier/at/cultura.com.br>
  * source/rdd/wafunc.c
    * Simplifies logic of hb_rddNewAreaNode to need one call to hb_xgrab
    * Add asserts to NULL pointer and uiSize

2007-05-31 18:40 UTC+0100 Miguel Angel Marchuet (miguelangel/at/marchuet.net)
  * source/vm/dynsym.c
    % Optimized, and added compatibility with some other functions as SELECT that needs
      ignore spaces after name in hb_dynsymGet( const char * szName )

2007-05-31 12:0 UTC-0300 Ranier Vilela <ranier/at/cultura.com.br>
  * source/vm/fm.c
    * Create constant HB_MEMFILER_FREED 0xee
    * Setting free memory with HB_MEMFILER_FREED to mark when memory was destroyed
    * Add asserts to NULL pointer, ulLen and blocks overlapped to hb_xmemcpy
    * Add asserts to NULL pointer and ulLen to hb_xmemset

2007-05-31 11:00 UTC-0300 Walter Negro <anegro at overnet.com.ar>
  * source/vm/fm.c
    ! Void variable unused warning, reported by Enrico Giordano

2007-05-31 10:03 UTC-0300 Walter Negro <anegro at overnet.com.ar>
  * source/vm/fm.c
    ! Add #undef hb_xautorelease()

2007-05-31 10:00 UTC-0300 Ranier Vilela <ranier/at/cultura.com.br>
  * source/rtl/str.c
    * Remove redudant memory setting (at line 140).

2007-05-31 02:01 UTC-0300 Walter Negro <anegro at overnet.com.ar>
  * include/hbvmpub.h
  * source/vm/classes.c
  * source/vm/hvm.c
    ! Fix error using ERROR HANDLER method in MT program.
      Now the symbol (PHB_SYMB) returned by hb_objGetMthd() when return the
      symbol of ERROR HANDLER method, is cloned.
      This memory should be released after use. See hb_objGetMethod() and hb_vmSend().
  * include/hbapi.h
  * source/vm/fm.c
    + Add funcion hb_xautorelease( void *) to set a memory block to auto release
      at the end of program and avoid memory leak report.

2007-05-30 16:01 UTC-0300 Antonio Carlos Pantaglione <toninho@fwi.com.br>
  * source/tip/client.prg
    + Added support for Cargo variable

2007-05-30 13:46 UTC+0100 Miguel Angel Marchuet (miguelangel/at/marchuet.net)
  * source/vm/dynsym.c
    % Optimized, and added compatibility with some other functions as SELECT that needs
      ignore spaces after name in hb_dynsymFindName( const char * szName )
  * source/vm/inet.c
    * Undo changes of
    ; 2007-05-10 14:40 UTC-0300 Ranier Vilela <ranier/at/cultura.com.br>
    because are the cause of don't works correctly TIP.LIB

2007-05-30 09:30 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * source/rtl/win32prn.prg
    * changed && => & for FIXED_PITCH and TRUETYPE_FONTTYPE in FontEnumCallBack()
      ( reported on Google newsgroup )

2007-05-29 20:00 UTC+0100 Hannes Ziegler <hz@knowleXbase.com>
  * tests/tiptest/dnldftp.prg
  * tests/tiptest/uploadftp.prg
  * tests/tiptest/ftpadv.prg
  * tests/tiptest/httpadv.prg
  * tests/tiptest/tiptest.prg
    * changed tests to work with changed TIP classes

   /*
      NOTE: TIP classes are currently out of order due to broken Sockets functions
    */

2007-05-29 12:53 UTC+0100 Miguel Angel Marchuet (miguelangel/at/marchuet.net)
  - include/hbrddbmcdx.h
  + include/hbrddbmc.h
  * source/rdd/bmdbfcdx/bmdbfcdx1.c
    * changed include to respect DOS 8.3 filename format compatible

2007-05-29 12:53 UTC+0100 Miguel Angel Marchuet (miguelangel/at/marchuet.net)
  * source/rdd/dbcmd.c
    ! fixed SELECT( "" ) causes GPF for incorrect alias.

2007-05-29 09:45 UTC+0700 Budyanto Dj. <budyanto@centrin.net.id>
  * contrib/gtwvw/samples/wvwtest9.prg
  * contrib/gtwvw/doc/whatsnew.txt
    Replace some typo wvt_* with wvw_*.

2007-05-28 22:27 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/rtl/tget.prg
    - Removed the following debug code:
cls
?
? ::pos
? ::nmaxedit
inkey(0)
  /*
    Toninho you must be more careful, and also please provide more details in ChangeLog. F.e.:
       "! Some changes to be more Clipper compatible"
    does not really tell us anything of value.
   */

2007-05-28 21:51 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/hbapi.h
  * source/common/hbstr.c
    + Added int hb_symcmp( const char * s1, const char * s2 )
  * source/vm/memvars.c
    * Corrected hb_memvarRelease*() to use new hb_symcmp()
      /* This fixes Clipper compatability for: __MXRelease( "Private1 1" ) */

  * source/vm/dynsym.c
    ! GPF trap I introduced in 2007-05-22 01:10 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
    + Clipper compatability question/comment

2007-05-28 21:15 UTC-0300 Antonio Carlos Pantaglione <toninho@fwi.com.br>
  * source/rtl/tget.prg
    ! Some changes to be more Clipper compatible

2007-05-28 19:10 UTC+0200 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>
  * source/vm/dynsym.c
    * Added a type cast ( UINT ) uiPos in function hb_dynsymPos() to remove a
      compiler warning

2007-05-28 19:10 UTC+0200 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>
  * source/pp/ppcore.c
    + Added HB_SYMBOL_UNUSED( pState ) to remove a compiler warning
  * source/rtl/gtapi.c
    + Added HB_SYMBOL_UNUSED( byAttr ) to remove a compiler warning

2007-05-28 18:05 UTC+0200 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>
  * source/rtl/pcre/config.h
    * Disable warning guarded by defined( __BORLANDC__ )

2007-05-28 09:48 UTC+0100 Miguel Angel Marchuet (miguelangel/at/marchuet.net)
  * include/hbrdddbf.h
  * include/hbrddntx.h
  * source/rdd/dbfntx/dbfntx1.c
    * moved static variables holding RDDI_* settings to RDDNODE data so
      they can be set separately for each RDD which inherits from DBFNTX
    synced with harbour

2007-05-27 18:18 UTC-0300 Antonio Carlos Pantaglione <toninho@fwi.com.br>
  * source/rtl/tget.prg
    ! METHOD Reset() reverted to METHOD instead PROCEDURE

2007-05-27 11:25 UTC-0500 Paul Tucker <ptucker@sympatico.ca>
  * bin\bld.bat
   * commented out line that removed any default libcmt.lib references from
   * included libs for msvc non-mt builds.
   * Suddenly, this is now a problem as MS Windows update is deleting
   * libc.lib from VC 8 builds!
   * We are now forced to use libcmt even though we may not be doing an MT
   * build.  (Which I suppose we should consider making the default...)

2007-05-27 18:13 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * make_xmingw.sh
  * source/pp/Makefile
    ! Fixed MinGW cross-compiler detection under Debian and its derivatives.
    ! Fixed ppgen operation when cross-compiling.

2007-05-27 17:42 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/tip/thtml.prg
    ! Fixed compilation in case-sensitive filesystems.

2007-05-27 17:36 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * include/Makefile
    ! Removed hbrddwrk.h.

2007-05-27 17:30 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/rtl/dateshb.c
    ! Fixed a couple of warnings.

2007-05-26 01:00 UTC+0700 Budyanto Dj. <budyanto@centrin.net.id>
  + contrib/gtwvw/samples/ebget.ch
    * missed from prev commit.

2007-05-25 18:35 UTC+0200 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>
  * source/rtl/dllcall.c
    * Defined pESP variable only when needed in function DynaCall()

2007-05-25 23:00 UTC+0700 Budyanto Dj. <budyanto@centrin.net.id>
  + contrib/gtwvw/samples/ebtest7.prg
    * sample on how to organize editboxes in commands similar to @..GET
      This sample uses some code from Minigui for masking input in editbox.
  * contrib/gtwvw/doc/whatsnew.txt
    * note this change

2007-05-25 09:48 UTC-0300 Antonio Carlos Pantaglione <toninho@fwi.com.br>
  * source/rtl/tget.prg
    % replaced some METHOD/return Self by PROCEDURE/return
    % other minor improvments and formatings

2007-05-25 08:08 UTC-0300 Antonio Carlos Pantaglione <toninho@fwi.com.br>
  * source/rtl/hbsrlraw.c
  * source/rtl/hbxml.c
  * source/rtl/gtwin/gtwin.c
  * contrib/xwt/src/xwt_api.c
  * contrib/xwt2/src/xwt_api.c
    % changed some hb_dynsymFindName() by hb_dynsymFind()

2007-05-18 12:12 UTC+0100 Patrick Mast <patrick/dot/mast/at/xharbour.com>
   * bin\bld.bat
     + Added if "%_HB_GT_LIB%" == "" set _HB_GT_LIB=gtwin for BCC

2007-05-25 10:25 UTC+0100 Miguel Angel Marchuet (miguelangel/at/marchuet.net)
  * source/rdd/dbcmd.c
  * source/rdd/wafunc.c
    * reenabled by default strict clipper compatible behavior for
      code select(), dbSelectArea() and alias allocating
    synced with harbour

  * source/rdd/dbf1.c
    + added DBI_ISENCRYPTED for tables encrypted by SIX3
    synced with harbour

  * source/rdd/bmdbfcdx/bmdbfcdx1.c
    * some syntax corrections.

2007-05-25 09:15 UTC+0200 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>
  * source/vm/eval.c
    * Removed unused variable pSelf in function HB_FUNC( HB_EXEC )
    * Removed unused initialization of iParams in function HB_FUNC( HB_EXEC )

2007-05-24 23:39 UTC+0200 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>
  * source/compiler/genc.c
    * Removed unused variable iLen in function hb_compGenCCheckInLineStatic()

2007-05-24 23:04 UTC+0200 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>
  * source/compiler/harbour.c
    * Removed two redundant assignments in function hb_compCompile()

2007-05-24 16:05 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/vm/fm.c
  * source/compiler/harbour.c
    * Compiler warnings

2007-05-24 13:00 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/rtl/pcre/config.h
    * Disable warning guarded by defined( _MSC_VER )

 /* Please add equivalent for your C compiler */

2007-05-24 18:23 UTC+0100 Miguel Angel Marchuet (miguelangel/at/marchuet.net)
  * source/rdd/bmdbfcdx/bmdbfcdx1.c
    * removed unnecesary code
    ! fixed bug on SKIP with SET DELETED ON when skips a deleted recno, OrdKeyNo was wrong.
  * source/rdd/dbfcdx/dbfcdx1.c
    * removed unnecesary code
  * source/rdd/wafunc.c
    * minor changes.

2007-05-24 12:01 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/hbcomp.h
  * include/hbinit.h
  * source/compiler/genc.c
  * source/compiler/genjava.c
  * source/compiler/genobj32.c
  * source/compiler/harbour.c
  * source/compiler/harbour.sly
  * source/ct/atadjust.c
  * source/ct/count.c
  * source/ct/ctpad.c
  * source/ct/justify.c
  * source/ct/pos2.c
  * source/ct/range.c
  * source/ct/remove.c
  * source/ct/replace.c
  * source/odbc/odbc.c
  * source/rdd/dbffpt/dbffpt1.c
  * source/rtl/gtgraph.c
  * source/rtl/gtwvt/gtwvt.c
    * Compiler warnings

2007-05-24 08:37 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/vm/eval.c
    * Silly typo in my recent fix to HB_Exec()

2007-05-24 10:00 UTC+0700 Budyanto Dj. <budyanto@centrin.net.id>
  * contrib/gtwvw/hbgtwvw.h
  * contrib/gtwvw/gtwvw.c
    ! Fix wrong handling of HB_ITEM causing memory leak, for the following functions:
      HB_FUNC( WVW_CLIENTTOSCREEN )
      HB_FUNC( WVW_GETXYFROMROWCOL )
      HB_FUNC( WVW_GETROWCOLFROMXY )
      HB_FUNC( WVW_GETFONTINFO )
      HB_FUNC( WVW_GETPALETTE )
      HB_FUNC( WVW_SAVESCREEN )
      HB_FUNC( WVW_GETCURSORPOS )
      HB_FUNC( WVW_GETPAINTRECT )
      HB_FUNC( WVW_XBINFO )
      HB_FUNC( WIN_GETCLIENTRECT )
      Thanks to Pritpal Bedi for noticing these errors.

    + support native EDITBOX
      wvw_EBcreate(), wvw_EBdestroy(), ... (13 new functions)
      Note that SETKEY is still in effect during editbox editing,
      thus this editbox is expected to be able to replace standard @..GET
      (or memoedit() if it is multiline editbox).
      I have also tested that a proper editbox callback can be written to
      handle masked input as in @...GET..PICTURE..

    + wvw_pbisfocused()

    + wvw_allowNonTopEvent()
      To set whether control's codeblock is allowed to be executed from
      non topmost window.
      (default is FALSE, the old behaviour)

    + wvw_recursecBlock()
      To set whether control's codeblock is allowed to do recursive action.
      (default is FALSE, the old behaviour)

  * contrib/gtwvw/doc/whatsnew.txt
    * notes on changes applied.

2007-05-23 23:30 UTC-0300 Luiz Rafael Culik Guimaraes
  * source/rtl/pcre/pcre_internal.h
    ! typedef int BOOL; protected by  #ifndef HB_APIEXT_H_ to make Mingw happy

2007-05-23 19:12 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/rtl/pcre/config.h
    - Removed no longer needed #defines
  * source/rtl/pcre/pcreposix.h
    - Reverted last change
    * Corrected apparent typo *dllimport -> dllexport

2007-05-23 08:10 UTC-0300 Antonio Carlos Pantaglione <toninho@fwi.com.br>
  * include/std.ch
    + added SET BACKGROUNDTICK missing after PP-port

2007-05-23 00:18 UTC-0500 Vicente Guerra <vicente@guerra.com.mx>
  * ./makefile.pc
  * source/rtl/pcre/pcre_internal.h
  * source/rtl/pcre/pcreposix.h
    ! Fixed PellesC compilation.

2007-05-22 16:07 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * utils/xbscript/xbs_harb.ch
    * Minor bug in SetVar() previously hidden by uppercasing logic in hb_dynsymGet()

2007-05-22 14:05 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/hboo.ch
  * source/vm/classes.c
    * Minor refinment to HB_OO_MSG_ONERROR
  * source/vm/dynsym.c
    * Update pSymbol when we don't yet have pFunPtr and recorded pSymbol has it

2007-05-22 10:35 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/vm/classes.c
    * Minor correction to HB_OO_MSG_ONERROR
  * source/vm/hvm.c
    + Added missing operator overloading support in hb_vmArrayPushRef()

2007-05-22 01:10 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/vm/dynsym.c
    * Minor simplification of toupper logic
  * source/vm/classes.c
    * Store clone symbol of execution function with szName modified to Message Name
  * source/vm/hvm.c
    * Simplified execution context in hb_vmSend() by using cloned symbol of the Method

2007-05-21 20:30 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/tget.prg
    ! fixed "@Sn" pict behaviour when "n" is larger than get width.
      Thanks to Ed Horbino by help.
    ! fixed "@X", "@C", "@(" and "@)" pictures behaviour as reported
      in dev-list by Toninho.

2007-05-21 14:20 UTC-0300 Ranier Vilela <ranier/at/cultura.com.br>
  * source/vm/eval.c
    * Fix HB_FUNC to make a MSVC 8 happy (line 762).

2007-05-21 11:20 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * hrbdll.bc
    * Updated for PCRE 7.1
    - Removed unneeded ppcomp
    * Minor adjustments
  * hrbdll.vc
    * Updated for PCRE 7.1

  * contrib/freeimage/MAKEFILE.BC
  * contrib/freeimage/env/bccWin32.Mak
  * contrib/freeimage/env/makelib.b32
  * contrib/gd/MAKEFILE.BC
  * contrib/gd/MAKE_B32.BAT
  * contrib/gd/env/bccWin32.Mak
  * contrib/gd/env/makelib.b32
  * contrib/gtwvw/samples/wvwtest9.bc
  * contrib/libnf/makefile.bc
    - Removed all instances of BCCDIR and BCC_DIR
      /* Please avoid this practice, instead make sure you have
         correct bcc32.cfg and ilink32.cfg in your BCC installation */

2007-05-20 23:27 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/vm/eval.c
    ! Fixed HB_Exec() building wrong execution stack for hb_vmDo()/hb_vmSend()

    /*
       NOTE: This fix forces requires the docs to specify that HB_Exec() syntax is:

       HB_Exec( pFunction_or_Method_Pointer [, <NIL_or_SelfObject> [, ...] ] )

       // If calling a function, passed arguments MUST be preceded by a NIL!
       HB_Exc( pSomeFunctionPinter [, NIL, Arg1 [, ArgN] ] )

       // If calling a Method, passed arguments MUST be preceded by the Self object!
       HB_Exc( pSomeFunctionPinter [, Self, Arg1 [, ArgN] ] )

    */

  * source/vm/inet.c
    + Added apparent missing break statement to eliminate infinit loop on "Timeout" error

2007-05-17 13:20 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  - source/rtl/pcre/chartables.c
  - source/rtl/pcre/dftables.c
  - source/rtl/pcre/pcre_printint.c
  - source/rtl/pcre/ucp_findchar.c
  - source/rtl/pcre/ucptable.c
    - Removed no longer needed sources

  - source/rtl/pcre/pcre_ucp_findchar.c
  + source/rtl/pcre/pcre_ucp_searchfuncs.c
    * Renamed PCRE source [?]

  + source/rtl/pcre/pcre_chartables.c.dist
    + This is the Native file from PCRE distribution
      it is now #included as-is by a simple wrapper pcre_chartables.c
  + source/rtl/pcre/pcre_chartables.c
    * New simple wrapper to just #include pcre_chartables.c.generic

  + source/rtl/pcre/config.h.generic
    + This is the Native file from PCRE distribution
      it is now #included as-is by a simple wrapper config.h
  * source/rtl/pcre/config.h
    * Now a simple wrapper to just #include config.h.generic

  + source/rtl/pcre/pcre.h.generic
    + This is the Native file from PCRE distribution
      it is now #included as-is by a simple wrapper pcre.h
  * source/rtl/pcre/pcre.h
    * Now a simple wrapper to just #include pcre.h.generic

  + source/rtl/pcre/pcre_newline.c
    + New PCRE source
  + source/rtl/pcre/ucptable.h
    + New PCRE source

  * source/rtl/pcre/pcre_compile.c
  * source/rtl/pcre/pcre_config.c
  * source/rtl/pcre/pcre_dfa_exec.c
  * source/rtl/pcre/pcre_exec.c
  * source/rtl/pcre/pcre_fullinfo.c
  * source/rtl/pcre/pcre_get.c
  * source/rtl/pcre/pcre_globals.c
  * source/rtl/pcre/pcre_info.c
  * source/rtl/pcre/pcre_internal.h
  * source/rtl/pcre/pcre_maketables.c
  * source/rtl/pcre/pcre_ord2utf8.c
  * source/rtl/pcre/pcre_refcount.c
  * source/rtl/pcre/pcre_scanner.h
  * source/rtl/pcre/pcre_study.c
  * source/rtl/pcre/pcre_tables.c
  * source/rtl/pcre/pcre_try_flipped.c
  * source/rtl/pcre/pcre_valid_utf8.c
  * source/rtl/pcre/pcre_version.c
  * source/rtl/pcre/pcre_xclass.c
  * source/rtl/pcre/pcreposix.c
  * source/rtl/pcre/pcreposix.h
  * source/rtl/pcre/ucp.h
  * source/rtl/pcre/ucpinternal.h
  * source/rtl/pcre/ChangeLog
  * source/rtl/pcre/Makefile
    * Upgraded to latest available PCRE 7.1

  * include/hbregex.h
    + Added #include config.h of PCRE

  * makefile.bc
  * makefile.vc
    * Updated for PCRE 7.1

  * source/rtl/regex.c
    ! Fixed memory leak

  * source/vm/fm.c
    * Define minimal hb_xgrag|free when hb_xgrab|free defined for compiled 3rd party libs

2007-05-19 10:06 UTC-0300 Antonio Carlos Pantaglione <toninho@fwi.com.br>
  * source/rtl/fstemp.c
    + Changes in my last commit to make MSVC 8 happy. Thanks Ranier.

2007-05-18 12:12 UTC+0100 Patrick Mast <patrick/dot/mast/at/xharbour.com>
  * makefile.bc
    + Added thtml.prg to TIP.LIB

2007-05-17 13:20 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/compiler/harbour.sly
    * Typo in last commit

2007-05-17 00:41 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * make_b32.bat
    * Allow cgl and map files
  * include/hbexprb.c
  * source/common/expropt1.c
  * source/compiler/harbour.c
  * source/compiler/harbour.sly
    * Memory leaks
  * source/compiler/genc.c
    * GPF trap

2007-05-18 10:26 UTC-0300 Antonio Carlos Pantaglione <toninho@fwi.com.br>
  * source/rtl/fstemp.c
    + fixed pending TODO, to use pszPrefix in HB_WIN32_IO

2007-05-18 12:06 UTC+0100 Miguel Angel Marchuet (miguelangel/at/marchuet.net)
  + source/rdd/usrrdd/rdds/ansirdd.prg
  * source/rdd/usrrdd/rdds/makefile
  * makefile.bc
  * makefile.pc
    + RDD that inhiretes from BMDBFCDX manage OEM data at DBF field and
      automatically convert to ANSI

2007-05-18 11:32 UTC+0100 Miguel Angel Marchuet (miguelangel/at/marchuet.net)
  * include/hbapi.h
  * include/usrrdd.ch
  * source/rdd/dbf1.c
  * source/rdd/dbfdbt/dbfdbt1.c
  * source/rdd/dbffpt/dbffpt1.c
  * source/rdd/usrrdd/rdds/adordd.prg
  * source/rdd/workarea.c
    + added support to fieldtype P (Picture)
      P     Picture   10 digits (bytes) representing a .DBT block number.
      The number is stored as a string, right justified and padded with blanks.

      (foxpro compatible)

  * source/rdd/userrdd/rdds/adordd.prg
    + Added support to MEMO fields

2007-05-18 00:07 UTC+0100 Miguel Angel Marchuet (miguelangel/at/marchuet.net)
  * include/adordd.ch
  * source/rdd/usrrdd/rdds/adordd.prg
     + ADO_FIELDINFO( nWA, nField, nInfoType, uInfo )  added
     * ADO_OPEN( nWA, aOpenInfo )                      modifications reported by Fernando Athayde
     * ADO_GETVALUE( nWA, nField, xValue )             modifications reported by Fernando Athayde

2007-05-17 00:58 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/classes.h
     + Re-added hb_objGetClass() for Harbour compatability
  * source/vm/classes.c
    * Trace info for debug of class dictionary guarded by #if 0
      /* Walter this is what I used to trace the Message not found TClipGet:VarGet problem */

2007-05-17 00:41 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/compiler/harbour.c
    * More memory leaks - work in progress

2007-05-16 23:40 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * make_b32.bat
    * Should not remove map and tds file after sucessful build
  * include/simplex.c
    * Typo in last commit which caused bad leak

2007-05-16 13:50 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/compiler/harbour.sly
    * Minor formatting
  * source/compiler/harbour.c
    * More memory leaks - work in progress

2007-05-16 10:53 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/compiler/harbour.c
    * Memory leak

2007-05-16 10:29 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/simplex.c
    * Minor trap

2007-05-16 13:00 UTC+0100 Miguel Angel Marchuet (miguelangel/at/marchuet.net)
  * include/adordd.ch
  * source/rdd/usrrdd/rdds/adordd.prg
     * Syntax corrections.

2007-05-16 01:15 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/simplex.c
    * Correction to recent commit

2007-05-15 17:31 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/hbapi.h
  * source/pp/ppgen.c
  * source/vm/fm.c
  * utils/hbpp/hbpp.c
  * include/hbexprc.c
  * source/macro/macro.y
  * source/compiler/harbour.c
    + Allow to redirect hb_xgrab(), hb_xalloc(), hb_xrealloc(), hb_xfree()

  * include/simplex.c
  * source/compiler/harbour.slx
  * source/compiler/harbour.sly
    ! Fixed some memory leaks - work in progress

  * source/compiler/genc.c
    ! Fixed GPF trap

2007-05-15 12:30 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/browse.prg
  * source/rtl/tbrowse.prg
    ! fixed to improve performance under index operation.
      Thanks to Mario H.Sabado and Eduardo Horbino by help.

2007-05-15 12:40 UTC-0300 Ranier Vilela <ranier/at/cultura.com.br>
  * source/vm/eval.c
    * Fixed loop "optimisations" that cause bugs, reported by Mindaugas
  * source/vm/hvm.c
    * Fixed loop "optimisations" that cause bugs, reported by Mindaugas
  * source/vm/dynsym.c
    * Change USHORT to UINT in return functions
    * hb_dynsymEval() and hb_dynsymCount()
  * include/hbapi.h
    * Change USHORT to UINT in return functions
    * hb_dynsymEval() and hb_dynsymCount()

2007-05-14 21:25 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/vm/arrays.c
    * Corrected typo in hb_arrayScan() when scanning HB_IT_HASH

2007-05-14 18:15 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/pp/ppcore.c
    * Minor correction to Extended Blocks support

2007-05-14 17:02 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/vm/arrays.c
    * Reset of type when placing a memo field into array

2007-05-13 21:25 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/vm/hvm.c
  * source/vm/memvars.c
    * Reset of type when copying a memo field to memvar and array

2007-05-12 15:30 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/compiler/hbfix.c
    ! Corrected some local near optimizations which were not excluding detached locals, and were not using HB_LIM_INT8()
    /* All prg sources must be recompiled to correct compilation of detached locals operations in codeblocks */

  * source/pp/ppcore.c
    ! Fixed wild match marker support of literal ';'

2007-05-11 19:45 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/pp/ppcore.c
    * Added Extended Codeblock support to Blockify

2007-05-11 18:50 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/pp/ppcore.c
    * Minor correction to Extended Codeblock support

2007-05-11 18:15 UTC+0100 Hannes Ziegler <hz@knowleXbase.com>
    + added HTML classes and functions
      see source\tip\changelog

    + tests\tiptest\loadhtml.prg
    + tests\tiptest\dbtohtml.prg

2007-05-11 11:35 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/classex.ch
    ! Fixed to work with new PP

2007-05-11 10:00 UTC-0300 Ranier Vilela <ranier/at/cultura.com.br>
  * source/vm/eval.c
    * Minor optimizations
    * Fix my mistake at line 187, uiParam count LEN to 0 (Thanks Toninho!)

2007-05-11 13:00 UTC+0100 Miguel Angel Marchuet (miguelangel/at/marchuet.net)
  * include/adordd.ch
  * include/usrrdd.ch
  * source/rdd/usrrdd/rdds/adordd.prg
    + Added FireBird support
    + ADO_CLOSE( nWA )
    + ADO_ZAP( nWA )
    * ADO_ORDINFO( nWA, nIndex, aOrderInfo )
    + ADO_RECINFO( nWA, nRecord, nInfoType, uInfo )
    + Added support to new FieldTypes DateTime, TimeStamp, Ole.

  * include/hbdbf.h
    + some comments.

  * include/hbtypes.h
    * corrected definition function. VM_PROCESS_DLL_SYMBOLS
      but is not enougth to execute correctly PCODE in DLL.

2007-05-10 22:00 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/hbpp.h
  * source/pp/ppcore.c
    * Hack to support Extended Codeblocks as Expressions

  * source/compiler/harbour.c
  * source/compiler/harbour.sly
    * Corrected generation of Extended Codeblocks to use HB_P_FRAME

  * source/vm/memvars.c
    * Silly memory leak, mistake in last commit

2007-05-10 14:40 UTC-0300 Ranier Vilela <ranier/at/cultura.com.br>
  * source/vm/inet.c
    * Minor optimizations

2007-05-10 01:38 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/compiler/genc.c
  * source/compiler/harbour.c
  * source/compiler/harbour.sly
  * source/compiler/hbident.c
    * Work in progress - started cleanup of memory leaks in compiler
      /* Any help will be greatly appreciated. */

2007-05-09 15:51 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/hbclass.ch
    * Corrected missing space to avoid unintentional concatanation of AS TYPE ...

  * include/hbmemory.ch
  * source/vm/fm.c
    + Added HB_MEM_BLOCKS (tottal numbers of allocated blocks

  * source/vm/memvars.c
    * Fixed memory leak
    * Minor simplifications

2007-05-09 17:00 UTC+0100 Miguel Angel Marchuet (miguelangel/at/marchuet.net)
   * contrib/adordd/adordd.prg
     * Improved ADO_CLEARREL()
     * Improved Deleted()
     + Added function HB_AdoRddGetRecordSet( [<nWorkArea>] ) --> oAdoRecordset
     + New functions HB_AdoRddGetConnection( [<nWorkArea>] ) --> oAdoConnection
       and HB_AdoRddGetCatalog( [<nWorkArea>] ) --> oAdoCatalog
     Borrowed from harbour

2007-05-09 11:00 UTC+0100 Miguel Angel Marchuet (miguelangel/at/marchuet.net)
  * source/rdd/userrdd/rdds/adordd.prg
    + added support to all dbf fieldtypes supported in dbf format from xharbour.
      and added support to autoconection for create files .xls and .db

        CASE aStruct[ n ][ DBS_TYPE ] == "V"
             s_aSQLStruct[ nWA ] += " VARCHAR(" + AllTrim( Str( aStruct[ n ][ DBS_LEN ] ) ) + ") NULL"

        CASE aStruct[ n ][ DBS_TYPE ] == "B"
             s_aSQLStruct[ nWA ] += " DOUBLE NULL"

        CASE aStruct[ n ][ DBS_TYPE ] == "Y"
             s_aSQLStruct[ nWA ] += " SMALLINT NULL"

        CASE aStruct[ n ][ DBS_TYPE ] == "I"
             s_aSQLStruct[ nWA ] += " MEDIUMINT NULL"

        CASE aStruct[ n ][ DBS_TYPE ] == "D"
             s_aSQLStruct[ nWA ] += " DATE NULL"

        CASE aStruct[ n ][ DBS_TYPE ] == "T"
             s_aSQLStruct[ nWA ] += " DATETIME NULL"

        CASE aStruct[ n ][ DBS_TYPE ] == "@"
             s_aSQLStruct[ nWA ] += " TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP"

        CASE aStruct[ n ][ DBS_TYPE ] == "M"
             s_aSQLStruct[ nWA ] += " TEXT NULL"

2007-05-08 22:30 UTC-0500 Vicente Guerra <vicente@guerra.com.mx>
  * source/vm/arrays.c
    * Removed "register" type declaration to memory-addressed variable.

2007-05-08 17:00 UTC-0300 Ranier Vilela <ranier/at/cultura.com.br>
  * source/vm/arrays.c
    * Minor optimizations

2007-05-08 07:35 UTC-0700 Andres Reyes <andresreyes_mzt/at/yahoo.com.mx>
  * source/rtl/tscalar.prg
    ! Fixed Missing Method ARRAY:Init() Lost in the move :)
  * source/rtl/tobject.prg
    - Removed Old Code for HBObject class definition
    - Removed Method New Code
      * Optimized Using   MESSAGE New Is Init

2007-05-08 08:15 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * makefile.pc
    + added adordd.

2007-05-08 12:00 UTC+0100 Miguel Angel Marchuet (miguelangel/at/marchuet.net)
  * include/hbapi.h
  * source/rdd/dbf1.c
  * source/rdd/dbfdbt/dbfdbt1.c
  * source/rdd/dbffpt/dbffpt1.c
  * source/rdd/workarea.c
    + added support to fieldtype G (OLE)
      G     OLE/General   10 digits (bytes) representing a .DBT block number.
      The number is stored as a string, right justified and padded with blanks.

      (dBASE V: like Memo) OLE Objects in MS Windows versions

      Are pendding to implement FieldGet to autocreate tOleAuto object when is
      required.

  * source/rdd/userrdd/rdds/adordd.prg
    * minor sintax corrections.

2007-05-07 12:00 UTC-0300 Ranier Vilela <ranier/at/cultura.com.br>
  * source/vm/hvm.c
    * Revert, switch hb_vmDo( UINT uiParams ) to hb_vmDo( USHORT uiParams )
    * Changes UINT to short, int and LONG for iJump when negative in JUMPS
    * Fix error in hb_vmCalcIntWidth, hbtest.exe now with 34 failed calls
  * source/vm/itemapi.c
    * Fix warning at line 2167
  * include/hbvm.h
    * Revert, switch hb_vmDo( UINT uiParams ) to hb_vmDo( USHORT uiParams )

2007-05-07 12:05 UTC+0100 Miguel Angel Marchuet (miguelangel/at/marchuet.net)
  * harbour/source/rdd/dbcmd.c
    * initialize lpaParent in DBRELINFO structure to pArea - please
      note that this initialization is ignored by default SETREL()
      RDD method
    Synched with Harbour.

  * harbour/source/rdd/usrrdd/usrrdd.c
    ! fixed GPF when NULL lpaParent or lpaChild was used in DBRELINFO
      structure
    Synched with Harbour.

  + include/adordd.ch
  * makefile.bc
  + source\rdd\usrrdd\rdds\adordd.prg
  + source\rdd\usrrdd\rdds\adordd\access1.prg
  + source\rdd\usrrdd\rdds\adordd\make_b32.bat
  + source\rdd\usrrdd\rdds\adordd\makefile.bc
  + source\rdd\usrrdd\rdds\adordd\mysql1.prg
     +added user rdd ADORDD borrowed from harbour with few changes.
      will be changed in next releases SET FILTER TO to be compatible
      with other workareas which can be using another formats.

  * harbour/source/rdd/wacore.c
  * harbour/include/hbapirdd.h
    * updated HB_TRACE messages and some minor cleanups
    Synched with Harbour.

  * harbour/source/rdd/dbcmd.c
    ! fixed initialisation of DBRELINFO dbSetRelation() - thanks to Antonio
      for locating the problem
    Synched with Harbour.


2007-05-06 00:46 UTC-0500 Vicente Guerra <vicente@guerra.com.mx>
  * source\vm\hvm.c
    ! Fixed (patched?) HB_P_JUMPFALSE, HB_P_JUMPFALSE, HB_P_JUMPFALSEFAR
      HB_P_JUMPTRUENEAR, HB_P_JUMPTRUE, HB_P_JUMPTRUEFAR when it jumps back.

2007-05-04 19:25 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * makefile.pc
  * hrbdll.pc
    + added wacore.c and wafunc.c files
  * source/rtl/tget.prg
    ! fixed bug reported in "@X" and "@C" pictures.

2007-05-03 16:48 UTC-0300 Ranier Vilela <ranier/at/cultura.com.br>
  * source/rdd/usrrdd/usrrdd.c
  * source/rdd/bmdbfcdx/bmdbfcdx1.c
  * source/rdd/dbfcdx/dbfcdx1.c
  * source/rdd/dbfdbt/dbfdbt1.c
  * source/rdd/dbffpt/dbffpt1.c
  * source/rdd/dbfntx/dbfntx1.c
    * Fix hb_rddInherit call ( BYTE * ) to ( const char * )
  * include/hbvmpub.h
    * switch "USHORT uiSymbols" to "UINT uiSymbols" in
    *    hb_vmRegisterSymbols() at line 154
  * include/hbvapi.h
    * switch "char * szName" to "const char * szName" in
      hb_dynsymGet(), hb_dynsymGetCase(), hb_dynsymFind(), hb_dynsymGetSymbol(),
      hb_dynsymFindSymbol() and
      hb_dynsymGet_r(), hb_dynsymGetCase_r(), hb_dynsymFind_r(), hb_dynsymFindName_r()
  * source/vm/hvm.c
    * switch "USHORT uiParams" to "UINT uiParams" in
      hb_vmRegisterSymbols() at line 9247
    * Fix warnings (-Wall)
  * source/vm/itemapi.c
    * Fix warnings (-Wall)
  * source/vm/fastitem.c
    * Fix warnings (-Wall)
  * source/vm/dynsym.c
    * switch "char * szName" to "const char * szName" in
      hb_dynsymGet(), hb_dynsymGetCase(), hb_dynsymFind(), hb_dynsymGetSymbol(),
      hb_dynsymFindSymbol() and
      hb_dynsymGet_r(), hb_dynsymGetCase_r(), hb_dynsymFind_r(), hb_dynsymFindName_r()
    * Fix warnings (-Wall)


  /* Please recompile all "c" sources */


2007-05-04 18:32 UTC+0100 Miguel Angel Marchuet (miguelangel/at/marchuet.net)
  * harbour/source/rdd/dbcmd.c
    * removed all explicit NETERR setting - now it can be set only
      by NETERR() function (executed by default errorsys)
    * changed ordListAdd()/dbSetIndex() - now they return logical value
      with information about success
    Synched with Harbour.

  * harbour/source/rdd/wafunc.c
    * changed hb_rddOpenTable()/hb_rddCreateTable() to make dbUseArea()/
      dbCreate() more Clipper compatible - it's not exact Clipper behavior
      but I intentionally do not want to replicate some strange for me
      things, f.e. I do not know why Clipper ignores RDDNAME when it has
      only one character
    Synched with Harbour.

  + harbour/tests/tstuse.prg
    + test code for dbUseArea()
    Synched with Harbour.

2007-05-04 06:40 UTC-0700 Andres Reyes <andresreyes_mzt/at/yahoo.com.mx>
  * source/cgi/tcgi.prg
    * Changue __CLS_PARAM TO  {}
  * source/rtl/ttable.prg
    * Changue __CLS_PARAM TO  {}
  * hrbdll.vc
    + Add classesc

2007-05-04 13:04 UTC+0100 Miguel Angel Marchuet (miguelangel/at/marchuet.net)
  * source/rdd/wafunc.c
    * change of the behavior of DbUseArea opening, so that one behaves like made Clipper, when it fails the
      opening of a table, does not recover the previous area.

2007-05-04 13:04 UTC+0100 Miguel Angel Marchuet (miguelangel/at/marchuet.net)
  * hrbdll.bc
  * hrbdll.vc
  * makefile.bc
  * makefile.vc
  * include/hbapirdd.h
  - include/hbrddwrk.h
  * source/rdd/Makefile
  + source/rdd/wacore.c
  + source/rdd/wafunc.c
  * source/rdd/workarea.c
    * cleaned RDD code:
      * the default work area implementation from which each RDD inherits
        and RDD management is now in workarea.c file - this part will be
        common for all threads in future MT version
      * the code to mange workareas and aliases moved to wacore.c - this
        code uses some static variables which will be moved to HVM stack
        in MT version
      * helper RDD functions thread independent moved to wafunc.c
    Synched with Harbour.

  * source/rdd/dbcmd.c
    * removed RDD/WorkArea management code - only independent HB_FUNCs
      left. IMHO it will be good to divide this file into few ones.
    * changed dbCreate() and dbUseArea() to return logical value
      Synched with Harbour.

  * contrib/rdd_ads/ads1.c
  * source/rdd/dbf1.c
  * source/rdd/delim1.c
  * source/rdd/sdf1.c
  * source/rdd/dbfcdx/dbfcdx1.c
  * source/rdd/dbfdbt/dbfdbt1.c
  * source/rdd/dbffpt/dbffpt1.c
  * source/rdd/dbfntx/dbfntx1.c
  * source/rdd/nulsys/nulsys.c
    * updated for recent modifications in RDD API
      Synched with Harbour.

  * include/hbextern.ch
    - removed __RDDSETDEFAULT() - this function was necessary with old
      rdd register code and we not not need it for few years. It's not
      Clipper function so I do not see any reason to keep it but if you
      want we can add wrapper to standard RDDSETDEFAULT()
      Synched with Harbour.

  * source/rdd/hbsix/sxcompr.c
    + added workaround for SIX3 bug which I intentionally replicated in
      [x]Harbour but it may cause data corruption so IMHO it will be better
      to fix it.
      Synched with Harbour.

  * source/rtl/errorsys.prg
    * added default action for EG_LOCK - it's Clipper compatible behavior
      but done in differ way. Due to some differences in linker we are
      using we cannot exactly replicate Clipper behavior because it will
      not work on some platforms as expected so I decided to add it here.
      I think it's even more Clear then the trick with source/sys/ntxerr.prg
      done by Clipper. Many people do not even knows about it.

2007-05-03 18:40 UTC-0300 Ranier Vilela <ranier/at/cultura.com.br>
  * include/hbvm.h
    * switch hb_vmDo( USHORT uiParams ) to hb_vmDo( UINT uiParams )
  * include/hbvmpub.h
    * switch USHORT to UINT in
    *   struct SYMBOLS (line 140)
    *   struct hb_struDouble (lines 201, 202)
    *   struct hb_struInteger (line 207)
    *   struct hb_struLong (line 219)
  * source/vm/hvm.c
    * switch hb_vmDo( USHORT uiParams ) to hb_vmDo( UINT uiParams )
    * Fix several warnings (-Wall)

  /* Please recompile all */


2007-05-02 20:51 UTC-0700 Andres Reyes <andresreyes_mzt/at/yahoo.com.mx>
  * include/hbclass.ch
    ! Fixed "Super" translate
    * CLASS <classname> from <FromFunc>( <FromClass> )
      /*
         If you declare a class with the clause FUNCTION,

         Example:

             CLASS MyClass FUNCTION MyNewClass
                ...

         if this must be inherit from other class you need to do

             CLASS MyClass2 from MyNewClass( MyClass )
                   ^ClassName    ^Function   ^from ClassName

    **Only in these cases**
      */

2007-05-02 22:00 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * makefile.pc
    ! fix to avoid warnings and errors at hvm.c compiling.

2007-05-02 18:58 UTC-0300 Ranier Vilela <ranier/at/cultura.com.br>
  * source/vm/itemapi.c
    + Add hb_itemPutDate()
    * Minor optimizations
    * Fix warnings reported by Enrico Maria Giordano
    * Thanks Enrico Maria Giordano

2007-05-02 09:07 UTC-0700 Andres Reyes <andresreyes_mzt/at/yahoo.com.mx>
  * include/hbclass.ch
    ! Fixed Broken INHERIT from Scalar Classes

2007-05-02 10:35 UTC-0300 Ranier Vilela <ranier/at/cultura.com.br>
  * source/makefile.vc
    - Its revert all changes below:
    * Add option -Ox
    * Removed options -Og -Op -GB, declared deprecated by msvc 8
    * Removed option -Ow, ignored by msvc 8
    * Changed option -o to -Fe, new option for output executable file
    * Thanks Paul Tucker
    * Thanks Alex Strickland

2007-05-02 10:28 UTC-0300 Ranier Vilela <ranier/at/cultura.com.br>
  * source/vm/fastitem.c
    * Fix warning reported by Enrico Maria Giordano
  * source/vm/hvm.c
    * Fix warnings reported by Enrico Maria Giordano
    * Fix incorrect code reported by Walter Negro (line 8107)
    * Thanks Enrico Maria Giordano
    * Thanks Walter Negro

2007-05-2 10:40 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * source/rdd/dbfcdx/dbfcdx.c
  * source/rdd/bmdbfcdx/bmdbfcdx.c
    - removed unused code
    * undo changed in for clause for customer index. to be cl53 compatible

2007-05-02 03:00 UTC-0300 Walter Negro <anegro/at/overnet.com.ar>
  * source/rtl/hbserial.prg
  * source/rtl/hbsrlraw.c
  * source/vm/hvm.c
    * support for serialize ande deserialize of array, hash with
      multireference or autoreference
    ! Fix typo error in hb_xvmHashGen()
  * source/rtl/win32ole.prg
    * support for datetime in VT_DATE values.

2007-05-01 20:40 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/browse.prg
    * replaced @..SAY to DispOut() functions to speed up browse initialization.
    ! fixed to add picture "@Sn" if char field width is larger than column.
    ! fixed browse performance under index operation.
    ! fixed memo edit window minimum coordinates.
    ! fixed to call rlock()/dbUnlock() if database is in shared mode.

2007-05-01 11:17 UTC-0300 Ranier Vilela <ranier/at/cultura.com.br>
  * source/vm/hvm.c
    * Fix warnings and errors reported by bcc 5.8.2
    * Fix error reported by Mindaugas (loops at lines 509,515)
    * Thanks Toninho
    * Thanks Mindaugas

2007-04-30 21:45 UTC-0300 Antonio Carlos Pantaglione <toninho@fwi.com.br>
   * config/w32/bcc32.cf
     * Changed CFLAGS definition to be compliant with makefile.bc

2007-04-30 19:50 UTC-0300 Ranier Vilela <ranier/at/cultura.com.br>
  * source/vm/fastitem.c
    * Minor optimizations

2007-04-30 17:41 UTC-0300 Ranier Vilela <ranier/at/cultura.com.br>
  * source/makefile.vc
    + Add option -Ox
    - Removed options -Og -Op -GB, declared deprecated by msvc 8
    - Removed option -Ow, ignored by msvc 8
    * Changed option -o to -Fe, new option for output executable file

2007-04-30 17:12 UTC-0300 Ranier Vilela <ranier/at/cultura.com.br>
  * source/vm/hvm.c
    + Add hb_vmDoInitFunc()
    * Changed hb_vmDoInitClip() to hb_vmDoInitFunc( "CLIPINIT" )
    * Changed hb_vmDoInitOle() to hb_vmDoInitFunc( "HB_OLEINIT" )
    * Changed hb_vmDoInitHashEntry() to hb_vmDoInitFunc( "HASHENTRY" )
    + Add hb_vmDoModuleFunctions()
    * Changed hb_vmDoModuleInitFunctions() to hb_vmDoModuleFunctions( s_InitFunctions )
    * Changed hb_vmDoModuleExitFunctions() to hb_vmDoModuleFunctions( s_ExitFunctions )
    * Many changes in code, touching small performance
    * Please, test and report errors.

2007-04-30 12:15 UTC+0200 Alex Strickland <sscc/at/mweb.co.za>
  * source/rtl/dllcall.c
  *  Add CALLDLL()
  *   Call a DLL function from (x)Harbour, the first parameter is a pointer returned from
  *   GetProcAddress above. Note that it is hardcoded to use PASCAL calling convention.

2007-04-29 21:15 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/hbpcode.h
  * include/hbvm.h
  * include/hbvmpub.h
  * include/hbxvm.h
  * source/compiler/genc.c
  * source/compiler/gencc.c
  * source/compiler/harbour.sly
  * source/compiler/hbdead.c
  * source/compiler/hbfix.c
  * source/compiler/hblbl.c
  * source/compiler/hbpcode.c
  * source/compiler/hbpcstat.c
  * source/compiler/hbstripl.c
  * source/vm/hvm.c
  * include/hbexprb.c
  * include/hbexprc.c
  * source/compiler/exproptb.c
  * source/compiler/exproptc.c
    * Standardized and improved HB_P_[SET]LOCANEAR* support
    + Added HB_P_[PUSH]LOCALNEARINC and HB_P_[PUSH]LOCALNEARDEC to poptimize <local> += 1 and <local> -= 1

  * source/vm/maindllp.c
    * Updated hb_vmProcessSymbols() as per recent change

2007-04-29 12:06 UTC-0700 Andres Reyes <andresreyes_mzt/at/yahoo.com.mx>
  * include/hbclass.ch
    * Several Changues
      - Removed __CLS_PARAM, __CLS_PAR00, __HB_CLS_PAR
      - Removed .. Not loger nedded
   #xcommand _HB_MEMBER <MethodName>([<params,...>])() [<*x*>] => _HB_MEMBER <MethodName>(<params>) <x>
   #xtranslate @<!funcname!>([<params,...>])() => @<funcname>(<params>)
      + Add _InheritFrom_, _AsFunc_, _AsName_, _AsStr_, _AsStrLst_, __OPT__
      * Now Works with Delegate Message
   MESSAGE ... IS
   MESSAGE ... IS ... TO ...
   MESSAGE ... IS ... IN ...
   MESSAGE ... TO ...
   MESSAGE ... IN ...
   VAR ... IS ...
   VAR ... IS ... TO ...
   VAR ... IS ... IN ...
   VAR ... TO ...
   VAR ... IN ...

  * include/classes.h
    + Add to METHOD
      PHB_SYMB pMsgIs;
   PHB_SYMB pMsgTo;

  * source/vm/classes.c
    * Change hb___msgDelegate
      + Now work full delegate at Run Time

  * source/rtl/tclass.prg
    - Remove Code
       /* Remove possible ( <x,...> )*/
      IF ( nAt := At( "(", cMethod ) ) > 0
        cMethod := RTrim( Left( cMethod, nAt - 1 ) )
      ENDIF
    * Now Resolved with preprocesor

  * utils/xbscript/xbs_harb.ch
    * change from CHARACTER to from _CHARACTER

  /* Please make a clean copy */

2007-04-27 18:45 UTC-0500 Vicente Guerra <vicente@guerra.com.mx>
  * include/hbinit.h
    ! Fixed pModulesymbols typos.

2007-04-27 11:24 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * source/rdd/dbcmd.c
    ! use default RDD instead of current one in COPY TO and APPEND FROM

2007-04-26 11:01 UTC-0300 Antonio Carlos Pantaglione <toninho@fwi.com.br>
   * source/rtl/inkey.c
     ! Changed call to hb_itemGetC() by hb_itemGetCPtr()
     - Removed hb_itemFreeC()

2007-04-25 10:02 UTC-0700 Andres Reyes <andresreyes_mzt/at/yahoo.com.mx>
   * source/vm/classesc.c
      + Add redundant hb_objGetClass()

2007-04-25 11:13 UTC-0300 Antonio Carlos Pantaglione <toninho@fwi.com.br>
   * source/rtl/inkey.c
     ! Fixed a memory leak.

2007-04-24 21:35 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/classes.h
    * Modified pDestructor member of CLASS to PMETHOD
  * source/vm/classes.c
    * Resolved thread safety problem of ->pDestructor using a static symbol

  * include/hbinit.h
  * include/hbvmpub.h
  * source/compiler/genc.c
  * source/vm/dynsym.c
  * source/vm/hvm.c
  * source/vm/runner.c
    * Simplified/optimized recent modification by avoiding ppModuleSymbols union member, in favor of having a [fake] ->pDynSym
      (1 per compiled modulle) also for static symbols.

  * contrib/libnf/fttext.c
  * contrib/rdd_ads/ads1.c
  * source/pp/pplib3.c
  * source/rdd/dbf1.c
  * source/rdd/delim1.c
  * source/rdd/sdf1.c
  * source/rdd/bmdbfcdx/bmdbfcdx1.c
  * source/rdd/dbfcdx/dbfcdx1.c
  * source/rdd/dbfdbt/dbfdbt1.c
  * source/rdd/dbffpt/dbffpt1.c
  * source/rdd/dbfntx/dbfntx1.c
  * source/rtl/version.c
  * source/vm/cmdarg.c
    - Reverted recent compliance change which is no longer needed

  * source/vm/codebloc.c
    - Removed old commented code

  * include/hbsetup.h
    * Changed HB_PCODE_VER to 9
      (Altough we never released previous change, as I'd like to avoid bogus GPF reports

  * source/rtl/cstr.prg
    + Added optional 4th argument <lBin> to ValToPrgExp() [default is .F.] to request binary representation for strings
  * source/rtl/persist.prg
    * Use ValToPrgExp() with lBin set to .T. for Codeblocks.

2007-04-24 20:10 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/browse.prg
    * minor position adjust after press K_UP, K_PGUP or K_CTRL_PGUP to go
      back from new row to last row.

2007-04-24 08:55 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/browse.prg
    ! fixed append mode when K_DOWN or K_PGDN key is pressed after last row.
    ! fixed K_CTRL_PGDN to doesn't set append mode.
    + added xHarbour extensions:
      * open edit window for memo field. Also, save memo content with K_ALT_W
        key, if HB_EXT_INKEY is defined.
      * automatic edit field, by pressing K_ENTER of the first column of the
        next row after the last column is edited in the current row.

  * source/rtl/tbrowse.prg
    ! fixed IsDb() static function to syncronize row position when tbrowse is
      initialized over a database in bottom record.

2007-04-22 18:45 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/hbclass.ch
  * include/classes.h
  * include/hbapi.h
  * include/hbinit.h
  * include/hbsetup.h
  * include/hbvm.h
  * include/hbvmpub.h
  * include/hbxvm.h
  * source/compiler/genc.c
  * source/compiler/gencc.c
  * source/vm/classes.c
  * source/vm/codebloc.c
  * source/vm/dynsym.c
  * source/vm/errorapi.c
  * source/vm/hvm.c
  * source/vm/macro.c
  * source/vm/maindllp.c
  * source/vm/proc.c
  * source/vm/runner.c
  * Global change profile:
    ! Optimized prg function call speed by avoiding pGlobals argument to hb_vmExecute()
    ! Optimized memory usage by:
      - Above reduces 4 bytes * deepest stack nesting
      - Removed member pModuleSymbols fro  * METHOD structure (every DATA * 2 + every METHOD definition of every class defnition * 4 bytes)
      - Removed pSymbols and pGlobals fro  * HB_CODEBLOCK (every codeblock definition + every inline method * 8 bytes)
                /* also renamed procname to symbol */
    * Changed HB_PCODE_VER to 8
    * Converted pDynSy  * of HB_SYMB to a NAMELESS union of pDynSy  * and ppModuleSymbols
      /*
         Tested nameless union compilation under MSVC, BCC, and xCC (POCC)
         please advise of compilation problem, if so we'll need to name the union,
         which wiill force sadditional syntax changes in few source files.
       */
    * Renamed pModuleSymbols memeber of SYMBOLS to pSymbolTable to avoid confusion
    + Added memeber pGlobals ro SYMBOLS (4 bytes * prg compiled module)
    * hb_vmProcessSymbols() now returns the Symbole Table Container (PSYMBOLS)
    * hb_[x]vmPushBlock[short] takes 2 less arguments pSymbols and pGlobals
    * hb_[x]vmPushMacroBlock takes 1 less argument pSymbols
    * hb_codeblockNew() takes 1 less argument pGlobals
    * hb_vmExecute() takes 1 less argument pGlobals
    * Default scope of new Dynamic Symbol to HB_FS_PUBLIC
    * Corrected Symbol Table of loaded HRB files to have HB_FS_LOCAL scope for locallly defined functions
    * Corrected loaded hrb files to have correct module name
    * HB_P_PUSH|POPGLOBAL[REF] now has minor overhead to resolve pGlobals fro  * cuurent pModuleSymbols container
    * Class creation and data/methods definition has minor overhead to resolve pModuleSymbols and store symbol which made the definition.
      /*
         Stack trace should now be completley accurate, showing correct source code location
         of any Method/Inline even for complex inheritance
       */
    * hb_vmSend() has minor overhead to force correct module context for object methods.
    * hb_vmPushSymbol() removed minor overhead of setting codeblock module context
    * hb_vmDoBlock() has minor overhead to force correct module context of codeblock instead of more frequently executed hb_pushSymbol().
    * hb_vmRegisterSymbols() will now detect and warn registed public function which was eliminated by linker due to same symbol in prior module
    * Extended HB_SaveBlock()/HB_RestoreBlock() functionality to support save/restore in different compilation modulles.
    + Added hb_objGetClassSymbol( PHB_ITE  * pObject )
    + hb_vmFindSymInModule()
    - Removed redundant hb_objGetClass() - see hb_objClassH()

  * contrib/libnf/fttext.c
  * contrib/rdd_ads/ads1.c
  * source/rdd/dbf1.c
  * source/rdd/delim1.c
  * source/rdd/sdf1.c
  * source/rdd/bmdbfcdx/bmdbfcdx1.c
  * source/rdd/dbfcdx/dbfcdx1.c
  * source/rdd/dbfdbt/dbfdbt1.c
  * source/rdd/dbffpt/dbffpt1.c
  * source/rdd/dbfntx/dbfntx1.c
  * source/pp/pplib3.c
  * source/rtl/version.c
  * source/vm/cmdarg.c
  * source/vm/initsymb.c
    * Updated to compile after above changes

  * source/rtl/trace.c
    + Added static s_bEmpty to allow TraceLog() to be retain output sent before hb_vmInit()

  * source/rtl/tclass.prg
    + Added argument nBase as 1 to __ClsNew()

  * source/rtl/tobject.prg
    * Minor optimizations

  * tests/savebloc.prg
  + tests/restbloc.prg
    * Updated to sample persistance of Codeblocks across different compilation modules

  /* Sorry, if I may have missed some changes. */

2007-04-20 11:24 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * include/hbapicdp.h
  * include/hbapilng.h
  * source/rdd/dbcmd.c
  * source/rdd/dbnubs.c
  * source/rdd/hsx/cftsfunc.c
  * source/rtl/accept.c
  * source/rtl/defpath.c
  * source/rtl/oemansi.c
  * source/rtl/pad.c
  * source/rtl/shadow.c
  * source/rtl/trim.c
  * source/vm/debug.c
    * changed HB_FUNCNAME( <name> )() to HB_FUNC_EXEC( <name> )

2007-04-19 23:39 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/compiler/exproptc.c
  * source/macro/macroc.c
  * include/hbexprc.c
    ! Fixed silly but nasty typos in last commit to HB_P_SENDWITH[SHORT] which broke few compunded operations like :n++ ++:n

2007-04-19 16:50 UTC-0300 Antonio Carlos Pantaglione <toninho@fwi.com.br>
   * source/common/hbver.c
     + Added Windows Vista version.

2007-04-19 10:10 UTC-0300 Walter Negro <anegro/at/overnet.com.ar>
  * source/common/hbdate.c
  * source/compiler/gencc.c
  * source/rtl/dateshb.c
  * source/vm/arrays.c
    * Correct compiler warnings reported by Maurilio Longo
  * source/vm/hvm.c
    ! Fix bug in hb_vmSubDate() for operation as Date() - 1.0

2007-04-18 08:50 UTC-0300 Antonio Carlos Pantaglione <toninho@fwi.com.br>
  * source/rdd/dbcmd.c
    ! Update NetErr() in ordListAdd(). Synched with Harbour.

2007-04-17 16:44 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/hbexprb.c
  * include/hbexprc.c
    * Revised compilation of HB_P_SENDWITH[SHORT] to use HB_P_PUSHWITH
  * include/hbstack.h
  * include/thread.h
  * source/vm/thread.c
  * source/vm/hvm.c
    - Removed bWithObject memeber of HB_STACK
  * source/vm/hvm.c
    * Removed all bWithObject code

  /* WARNING: All prg files MUST be recompiled!!! */

2007-04-17 10:53 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * source/rdd/bmdbfcdx/bmdbfcdx1.c
    * fixed bug on SET FILTER TO <expr> after REPLACE
      Unrecoverable error 9105: hb_cdxIndexLockWrite: writeLock after readLock.
      It occurs only with SET OPTIMIZE ON.

2007-04-16 22:20 UTC-0300 Antonio Carlos Pantaglione <toninho@fwi.com.br>
  * include/hbapi.h
  * source/rtl/valtype.c
    + support for HB_ISDATETIME() function

  * include/hbstruct.h
  * source/rtl/tobject.prg
    + improved STRUCTURE/MEMBER/ENDSTRUCTURE to support DATETIME and HASHES

  * tests/struct.prg
    ! updated with datetime and hash sample

2007-04-16 22:57 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/simplex.c
    * Compiler warning

2007-04-16 21:15 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * makefile.pc
  * hrbdll.pc
    + added clpclass, tscalar and classesc.c into rsp script file.

2007-04-16 13:02 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/simplex.c
  * source/pp/ppcore.c
    * Compiler warnings

2007-04-16 12:25 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/browse.prg
    ! fixed to go bottom record as reported in comp.lang.xharbour news.

  * hrbdll.bc
    + added tscalar.prg

2007-04-15 23:42 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/hbpp.h
  * source/compiler/ppcomp.c
  * source/pp/ppcore.c
    + Added support for #pragma push ... and #pragma pop ...
      /* This allows save, modify, and later restore of any compiler switch */

  * include/wintypes.ch
    + Added #pragma push -w0, #pragma pop -w around overloaded #define int and INT to supress overloaded warnings

2007-04-15 17:55 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/rtl/cstr.prg
    * Object representation of ValToPrg() to be compilable

2007-04-15 15:09 UTC-0700 Andres Reyes <andresreyes_mzt/at/yahoo.com.mx>
  * makefile.bc
    * fixed missing file clpclass.prg

2007-04-15 16:11 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * hrbdll.bc
  * hrbdll.gc
  * hrbdll.pc
  * hrbdll.vc
  * hrbdll.wc
     * Added clpclass.prg and tscalar.prg

2007-04-15 15:58 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/rtl/tobject.prg
  * source/rtl/tscalar.prg
    * Corrected static HB_FUNC( ... ) to HB_FUNC_STATIC( ... )

2007-04-15 12:36 UTC-0700 Andres Reyes <andresreyes_mzt/at/yahoo.com.mx>
  * source/rtl/tclass.prg
     * minor change for future implementation
     * move __CLASSNEW, __CLASSADD, __CLASSINS to clpclass.prg
        * this file only be linked if it's necesary
     * move Scalar Classes to tscalar.prg
        * this file only be linked if it's necesary
   + source/rtl/clpclass.prg
   + source/rtl/tscalar.prg
     + Add POINTER:FUNCNAME()
        * retrieves the function name of pointer
        ! be careful if pointer not point to a function maybe generating a GPF
   * source/rtl/tobject.prg
     * now :MSGNOTFOUND() works Like Class(y))
   * source/rtl/makefile
   * makefile.bc
   * makefile.vc
   * makefile.pc
   * makefile.wc
     * add clpclass.prg, tscalar.prg

2007-04-15 14:45 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/hbclass.ch
    * Modified to use new UTILITY attribute (Class code is never a startup code)
  * source/rtl/cstr.prg
    + Added support for cyclic arrays
    * Simplified cyclic detection
    * Improved format of ValToPrg() arrays and objects representation

2007-04-14 23:46 UTC-0700 Andres Reyes <andresreyes_mzt/at/yahoo.com.mx>
  * source/rtl/tclass.prg
  * source/vm/classes.c
    /*
      I reduced the size of the final object, when this it is inherited
      At VM level OOPS Engine only use the first element of the object to
      store a reference to real self, Really we only need to have free the
      first element of Object.
    */

2007-04-14 17:45 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  + include/wintypes.ch
    + New header with common Windows types for use with C Structures and DllCalls.
  * include/cstruct.ch
    + Added CTYPE_VOID
  * include/hbdll.ch
    + Added support for new native syntax, which allow quick Cut & Paste from C headers.
    + Added #include "cstruct.ch" and "wintypes.ch"
  * include/hbvmpub.h
  * source/compiler/harbour.c
  * source/compiler/harbour.slx
  * source/compiler/harbour.sly
    + Added support for new UTILITY [STATIC] FUNCTION|PROCEDURE syntax.
      /* The UTILITY attribute indicates that such Func/Proc should NOT be used as STARTUP code even if
        it is the FIRST procedure in source. This means Utility Functions such as auto generated DLL wrappers
        no longer have to be placed at BOTTOM of source, which is counter intuitive. */
  * source/rtl/dllcall.c
    * Fixed silly typo (&& HB_IT_BYREF)
    * Fixed pushing pArg to not dereference (Paul is this correct?)
    + Added validation of DynaCall() by means of getLastError()
    * Preperation for additional work in progress
  * tests/dllcall.prg
    * Moved DLL declerations to TOP of file as it's now supported.
    + Added samples of native syntax.
  * source/vm/hvm.c
    * Missing type cast

2007-04-14 10:43 UTC-0700 Andres Reyes <andresreyes_mzt/at/yahoo.com.mx>
  * source/vm/hbvm.c
     * fixed bug in POINTER:EXEC with PROCNAME(), HB_QSELF()

2007-04-14 10:04 UTC-0700 Andres Reyes <andresreyes_mzt/at/yahoo.com.mx>
  * source/vm/hbvm.c
     * fixed BLOCK:EVAL()
     + Added BLOCK:EXEC()
     + Added POINTER:EXEC()
  + test/test_exec.prg
     * New sample to demostrate the use of :EXEC()

2007-04-14 03:03 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  + include/hbdll.ch
    + New header file with DllCall constants and FoxPro and FWH compatible DLL Syntax support
  * source/rtl/dllcall.c
    * Moved constants shared with PRG code to hbdll.ch
    + Added support for Long/Int/Bool by ref
    + Added validation and error reporting to DLLPREPARECALL()
    + Added save/restore of ESP in MSVC branch of DynaCall() to avoid GPF
      /* Paul and assembler experts, please review - also I suspect Borland and MingW should also save/restore ESP */
  + tests/dllcall.prg
    * New sample to demonstrate WIN DLL support using FoxPro and FWH style declerations

2007-04-13 18:08 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/vm/arrays.c
    + Added argument validation and error reporting for hb_arrayfromParams()
  * source/vm/arrayshb.c
    + Added suppport for <nLevel> to HB_APARAMS() - default is 0
    + Added argument validation and error reporting for HB_APARAMS()

2007-04-13 16:17 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/vm/hvm.c
    * Reverted silly factorization of HB_QSELF()
  * source/rtl/win32ole.prg
    * Do NOT inherit from HB_Object() to avoid OLE namespace pollution

2007-04-13 11:38 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/hbpp.h
    + Added:
       #define HB_PP_CMP_KEY        0x1000
       #define HB_PP_CMP_MATCHRULE  0x2000
  * source/pp/ppcore.c
    * Corrected #[x]untranslate/[x]uncommand to work as documented
  * include/hbclass.ch
    * Corrected usage of #[x]untranslate

2007-04-12 10:10 UTC-0300 Luiz Rafael Culik Guimaraes
  * makefile.bc
    makefile.vc
    makefile.pc
    makefile.wc
    !added missing classesc.c

2007-04-12 08:31 UTC-0300 Luiz Rafael Culik Guimaraes
  * debian/README.debian
  * debian/changelog
  * debian/control
  * debian/copyright
  * debian/dirs
  * debian/files
  * debian/harb.sh
  * debian/rules
  * debian/substvars
  * make_deb.sh
    ! updated  now it generate an usable .deb

2007-04-11 21:11 UTC-0700 Andres Reyes <andresreyes_mzt/at/yahoo.com.mx>
  * source/vm/classes.c
    - Moved Functions __CLS_PARAM, __CLS_PAR00 to classesc.c
  + source/vm/classesc.c
    * This File is Only For Keep functions nedded for old versions
      of the compiler, and this not will be linked in a exe file,
      only if it's necesary.
    + Keep Functions __CLS_PARAM, __CLS_PAR00
  * source/vm/makefile
    * Add classesc.c

2007-04-11 18:39 UTC-0700 Andres Reyes <andresreyes_mzt/at/yahoo.com.mx>
  * include/hbextern.ch
    * Comment EXTERN __CLS_PARAM
  * include/hbclass.ch
    * Optimization for speed
    + Added #xtranslate __CLS_PARAM
    + Added #xtranslata __CLS_PAR00
  * source/vm/classes.c
    * Not Needed
    * Comment __CLS_PARAM
    * Comment __CLS_PAR00
  * source rtl/tobject.prg
    * More Class(y) compatibility
    + Adding messages :Exec(), :Eval(), :basicSize(), :Copy(), :DeepCopy()
    * :New() Calls :Init() no limited params

2007-04-11 21:26 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/pp/ppcore.c
    * Minor correction to spaces attribute of seperated tokens of recent commit

2007-04-11 15:22 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/pp/ppcore.c
    + Added logic to break '<<' into 2 tokens ('<' '<') when prefixed by ESCAPE '\' in #directives.

2007-04-11 03:55 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/vm/extend.c
  * source/vm/hvm.c
    * Cleaned unused vars

2007-04-11 02:15 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/hbstack.h
    * Removed redundant member lBaseItem from HB _STACK_STATE
    + Added hb_stackgetBase()
  * include/hbvmpub.h
    + Added member paramsoffset to hb_struSymbol
  * source/vm/arrays.c
    * Use ->item.asSymbol.paramsoffset when building param arrays
  * source/vm/arrayshb.c
    * Sumplified HB_APARAMS to use new hb_stackGetBase()
  * source/vm/estack.c
    * Adjusted for changes in hb_struSymbol and HB_STACK_STATE
    + Added hb_stackgetBase()
    * Simplified hb_stackDispCall()
  * source/vm/hvm.c
    * Replaced few non recoverable hb_errRT_BASE() with hb_errInternal()
    * Adjusted hb_vmFrame() to use new ->item.asSymbol.paramsoffset
    * Simplified HB_QSELF() and HB_RESTOREBLOCK() to use new hb_stackGetBase()
  * source/vm/proc.c
    * simplified to use hb_stackGetBase()
  * source/vm/pvalue.c
    * Adjusted to use ->item.asSymbol.paramsoffset

  * source/vm/garbage.c
    * Corrected declaration to top of block

  * source/vm/errorapi.c
    * Minor format

2007-04-10 14:20 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/hbapi.h
    + Added Harbour compatible hb_gcFunc() and hb_parptrGC()
  * include/hbapiitm.h
  * source/vm/itemapi.c
    + Added Harbour compatible hb_itemGetPtrGC()
  * source/vm/garbage.c
    + Added Harbour compatible hb_gcFunc()
    * Minor simplifications
  * source/pp/ppgen.c
  * source/pp/pplib.c
  * source/pp/pplib2.c
    * Synched with Harbour

  * source/vm/hvm.c
    ! Fixed GPF trap in hb_vmPushDynSym()

  * include/hbapi.h
  * include/hbstack.h
  * source/vm/arrays.c
  * source/vm/debug.c
  * source/vm/extend.c
  * source/vm/fastitem.c
  * source/vm/hvm.c
  * source/vm/pcount.c
  * source/vm/pvalue.c
    * Simplified/optimized handling of variable parametes (...)
     /* All xHarbour apps should be faster now because the optimized macros/functions were very frequently used */

2007-04-10 10:06 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * source/rdd/bmdbfcdx/bmdbfcdx1.c
    * fixed bug on BM_DbSeekWild( ... )
      when all the keys were asked for, first never it was included.

2007-04-09 18:47 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/pp/ppcore.c
    * Uncommented HB_PP_NO_LINEINFO_TOKEN

2007-04-09 14:48 UTC-0800 Tony Bretado <tony@bretado.com>
  * source/rtl/tbrowse.prg
    Adjust behavior of ::lHitBottom & ::lHitTop, based on Eduardo Fernandes observations.

2007-04-09 17:05 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/compiler/ppcomp.c
    ! Fixed loading of system defines to precede processing of user defined rules
    * Readded support of hb_pp_STD_CH_ADDITIVE
  * source/pp/ppcore.c
    * Synched with some Harbour modifications
    * Improved HB_PP_ERR_UNKNOWN_RESULT_MARKER and HB_PP_ERR_WRONG_LABEL to provide more details

2007-04-08 03:18 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/rtl/gtapi.c
    * Temporrarily commented calls to hb_gt_SetAttributeCT()

  * include/common.ch
    * Minor simplifications and corrections

  * source/vm/hash.c
    * Minor format

  * source/compiler/harbour.sly
    * Minor typo

  * include/hbpp.h
    * Removed HB_PP_TOKEN_SEND from HB_PP_TOKEN_NEEDLEFT() to allow unconditional support for send as starting exp

  * include/hbapi.h
    + Added #define HB_VAR_PARAM_FLAG 255

  * source/compiler/harbour.c
  * source/vm/arrays.c
  * source/vm/debug.c
  * source/vm/estack.c
  * source/vm/extend.c
  * source/vm/fastitem.c
  * source/vm/pcount.c
  * source/vm/pvalue.c
  * source/vm/hvm.c
    * Revised variable arguments support to use HB_COMP_ERR_TOOMANY_ARGS instead of hardcoded 255

  * include/hberrors.h
  * source/compiler/hbgenerr.c
    + Added #define HB_COMP_ERR_TOOMANY_ARGS -> "Too many arguments to function: \'%s\'"

  * include/hbexpra.c
    + Added error generation if argument count greater than HB_VAR_PARAM_FLAG
    + Added support for Array(...) as valid static initializer
    + Added support for Hash(...) as valid static initializer

  * include/hbpcode.h
  * include/hbxvm.h
  * source/compiler/genc.c
  * source/compiler/gencc.c
  * source/compiler/hbdead.c
  * source/compiler/hbfix.c
  * source/compiler/hblbl.c
  * source/compiler/hbpcode.c
  * source/compiler/hbpcstat.c
  * source/compiler/hbstripl.c
  * source/vm/hvm.c
  * source/compiler/exproptb.c
  * include/hbexprb.c
    + Added suport for creating Hashes using PCODE

2007-04-06 19:15 UTC-0800 Tony Bretado <tony@bretado.com>
  * source/rtl/gtapi.c
    + New function hb_gtSaveAll(). Needed to Save WHOLE Screen from inside a CT Window.
    ! Fix hb_ctShadow(). In order to draw shadow attribute CA-Tools compatible.
      Now it calls hb_gt_SetAttributeCT() defined in gtwvt.c
         /* Please check other gt libraries! */
  + source/rtl/gtwvt/gtwvt.c
    + New function hb_gt_SetAttributeCT(). Needed to draw shadow attribs CA-Tools compatible.

2007-04-06 17:53 UTC-0800 Tony Bretado <tony@bretado.com>
  * source/rtl/tbrowse.prg
    fixed bugs in ::lHitBottom.

2007-04-05 04:15 UTC-0300 Walter Negro <anegro/at/overnet.com.ar>
  * include/hbapi.h
    New macro HB_IS_OBJECTDESTROYED()

  * include/hbvmpub.h
    Modification HB_BASEARRAY structure, adding uiDestroyed member.

  ! source/vm/arrays.c
    Resolve several problems related with destructor of objects.
    ! Double execution of destructor recursive (hb_arrayReleaseGarbage() and hb_arrayReleaseBase())
    ! Double execution of destructor non-recursive, in the same execution of GC.
    ! Execution methods of object destroyed in destructor.
    % Minor optimization

  ! source/vm/arrayshb.c
    HB_ATOKENS() clean Return area incorrectly.

  ! source/vm/classes.c
    ! Avoid execution methods of object destroyed simulating virtual method.
    ! Set bSymbol to FALSE when use pointer to function.
    % Minor optimization

  ! source/vm/hvm.c
    % Optimization of With Object accessing to Datas.
    ! Incorrect optimization in hb_vmEqual() and hb_vmNotEqual() with HB_IT_POINTER. Some pointers are COMPLEX values.
    ! Save HB_VM_STACK.bWithObject state before clear Return in hb_vmSend(), to avoid to use the object of With Object in destructor of other object.

2007-04-02 17:54 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * source/rdd/dbf1.c
    + added default value to TimeStamp fields, automatically.

2007-04-02 17:54 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * include/hbapi.h
  * source/rdd/bmdbfcdx/bmdbfcdx1.c
  * source/rdd/dbf1.c
  * source/rdd/dbfcdx/dbfcdx1.c
  * source/rdd/workarea.c
    + added support for field types TimeStamp and DateTime compatible with
      Visual FoxPro. Can be created the fields with DbCreate using the next
      fieldTypes:
   DateTime T
   TimeStamp   @

2007-03-31 13:40 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/tget.prg
    ! fixed "@B" picture behaviour as reported from xharbour-dev's list.

2007-03-30 14:10 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * include/hbpp.h
    * fixed typo in comment
  * source/rdd/bmdbfcdx/bmdbfcdx1.c
  * source/rdd/dbfcdx/dbfcdx1.c
  * source/rdd/dbfntx/dbfntx1.c
    + added some missing DBOI_* actions
  * source/rdd/dbstrux.prg

2007-03-30 09:26 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * source/rdd/dbfcdx/dbfcdx.c
    + added support for DBORDERINFO( DBOI_ISMULTITAG )
    * modified to admit DBOI_KEYDELETE and DBOI_KEYADD ignoring the FOR clause,
      that does not have meaning in customer index in order to add or del KEYS.

2007-03-29 10:53 UTC+0100 Miguel Angel Marchuet <miguelangel/at/marchuet.net>
  * source/rdd/bmdbfcdx/bmdbfcdx.c
    + added support for DBORDERINFO( DBOI_ISMULTITAG )

2007-03-28 21:00 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/minmax.c
    ! fixed lines 70 and 146. Changed "p1->item.asDate.value" to
      "p2->item.asDate.value" as reported by Serge Jakimoff from
       comp.lang.xharbour news.

2007-03-28 16:00 UTC+0200 Alex Strickland <sscc/at/mweb.co.za>
  * source/rtl/seconds.c
    * Use GetLocalTime() when HB_OS_WIN_32 defined.

2007-03-27 22:42 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * contrib/rdd_ads/ads1.c
    * Change direct access of hb_set to use hb_GetSetStructPtr()
    * Corrected few HB_TR_ALWAYS to HB_TR_DEBUG

 /* Commited on behalf of Brian Hays */

2007-03-27 10:22 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * include/hbset.h
  * source/rtl/set.c
    + Added missing HB_EXPORTs

  * source/compiler/harbour.slx
  * source/macro/macro.slx
    * Simplified processing of new AM and PM tokens.

  * tests/dates5.prg
    * Minor formating

2007-03-27 03:29 UTC-0300 Walter Negro <anegro/at/overnet.com.ar>
   * source/common/hbdate.c
    ! Correct some Warnings
  * source/compiler/harbour.slx
     ! Correct compilation of AM and PM as Identifier

2007-03-26 18:40 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/ct/ctnet.c
    * fixed NetPrinter() to treat "PRN" as "LPT1".

2007-03-26 11:24 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/common/hbdate.c
  * source/vm/hvm.c
    * Type cast for div() arguments needed by MSVC

2007-03-25 21:20 UTC-0300 Walter Negro <anegro/at/overnet.com.ar>
  * source/common/hbdate.c
  * source/vm/hvm.c
  * source/vm/itemapi.c
    ! Correct some Warnings

2007-03-25 03:00 UTC-0300 Walter Negro <anegro/at/overnet.com.ar>
  * include/hbapi.h
  * include/hbapiitm.h
  * include/hbcomp.h
  * include/hbdate.h
  * include/hbexpra.c
  * include/hbexprb.c
  * include/hbexprop.h
  * include/hbmacro.h
  * include/hbpcode.h
  * include/hbset.h
  * include/hbstack.h
  * include/hbvm.h
  * include/hbvmpub.h
  * include/hbxvm.h
  * include/set.ch
  * include/std.ch
  * include/thread.h
  * source/common/expropt1.c
  * source/common/hbdate.c
  * source/compiler/genc.c
  * source/compiler/gencc.c
  * source/compiler/harbour.c
  * source/compiler/harbour.slx
  * source/compiler/harbour.sly
  * source/compiler/hbdead.c
  * source/compiler/hbfix.c
  * source/compiler/hblbl.c
  * source/compiler/hbpcode.c
  * source/compiler/hbpcstat.c
  * source/compiler/hbstripl.c
  * source/macro/macro.slx
  * source/macro/macro.y
  * source/rtl/dateshb.c
  * source/rtl/descend.c
  * source/rtl/empty.c
  * source/rtl/hbsrlraw.c
  * source/rtl/minmax.c
  * source/rtl/samples.c
  * source/rtl/set.c
  * source/rtl/Makefile
  * source/vm/arrays.c
  * source/vm/arrayshb.c
  * source/vm/asort.c
  * source/vm/estack.c
  * source/vm/extend.c
  * source/vm/hash.c
  * source/vm/hvm.c
  * source/vm/itemapi.c
  * source/vm/macro.c
  * source/vm/memvars.c
  * utils/hbmake/hbmutils.prg
  * makefile.bc
  * makefile.dc
  * makefile.gc
  * makefile.pc
  * makefile.vc
  * makefile.wc
  * hrbdll.bc
  * hrbdll.dc
  * hrbdll.gc
  * hrbdll.pc
  * hrbdll.vc
  * hrbdll.wc
  + tests/dates5.prg
  - source/rtl/dates.c

    Added support for datetime values.

2007-03-24 19:40 UTC-0500 Ron Pinkas <ron/at/xharbour.com>
  * source/pp/ppcore.c
    * Corrected hb_pp_tokenCanStartExp() to return FALSE for inline seperator ';'
  * source/vm/classes.c
    * Minor cleanup
  * source/vm/cmdarg.c
    * Corrected possible GPF trap f.e. when VM is loaded as a stand alone DLL
